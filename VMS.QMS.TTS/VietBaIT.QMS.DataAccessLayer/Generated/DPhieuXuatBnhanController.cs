using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VietBaIT.HISLink.DataAccessLayer
{
    /// <summary>
    /// Controller class for D_PHIEU_XUAT_BNHAN
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class DPhieuXuatBnhanController
    {
        // Preload our schema..
        DPhieuXuatBnhan thisSchemaLoad = new DPhieuXuatBnhan();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public DPhieuXuatBnhanCollection FetchAll()
        {
            DPhieuXuatBnhanCollection coll = new DPhieuXuatBnhanCollection();
            Query qry = new Query(DPhieuXuatBnhan.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public DPhieuXuatBnhanCollection FetchByID(object IdPhieuXuatBn)
        {
            DPhieuXuatBnhanCollection coll = new DPhieuXuatBnhanCollection().Where("ID_PHIEU_XUAT_BN", IdPhieuXuatBn).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public DPhieuXuatBnhanCollection FetchByQuery(Query qry)
        {
            DPhieuXuatBnhanCollection coll = new DPhieuXuatBnhanCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdPhieuXuatBn)
        {
            return (DPhieuXuatBnhan.Delete(IdPhieuXuatBn) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdPhieuXuatBn)
        {
            return (DPhieuXuatBnhan.Destroy(IdPhieuXuatBn) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaPhieuXuatBn,DateTime? NgayXuatBn,DateTime? NgayKeDon,string TenBnhan,string TenKhongDau,byte? Gtinh,string ChanDoan,string MaBenh,string DiaChi,int? NamSinh,string SoThe,short? IdDoiTuong,short? IdNhanVien,int? IdDonThuoc,short? IdKhoaCd,short? IdBsyCd,short? IdKhoXuat,byte? HienThi,byte? NoiTru,byte? LoaiDthuoc,byte? TrangThai,DateTime? NgayTao,string NguoiTao,byte? LoaiPhieu,int? IdChot,DateTime? NgayChot,int? IdCapphat)
	    {
		    DPhieuXuatBnhan item = new DPhieuXuatBnhan();
		    
            item.MaPhieuXuatBn = MaPhieuXuatBn;
            
            item.NgayXuatBn = NgayXuatBn;
            
            item.NgayKeDon = NgayKeDon;
            
            item.TenBnhan = TenBnhan;
            
            item.TenKhongDau = TenKhongDau;
            
            item.Gtinh = Gtinh;
            
            item.ChanDoan = ChanDoan;
            
            item.MaBenh = MaBenh;
            
            item.DiaChi = DiaChi;
            
            item.NamSinh = NamSinh;
            
            item.SoThe = SoThe;
            
            item.IdDoiTuong = IdDoiTuong;
            
            item.IdNhanVien = IdNhanVien;
            
            item.IdDonThuoc = IdDonThuoc;
            
            item.IdKhoaCd = IdKhoaCd;
            
            item.IdBsyCd = IdBsyCd;
            
            item.IdKhoXuat = IdKhoXuat;
            
            item.HienThi = HienThi;
            
            item.NoiTru = NoiTru;
            
            item.LoaiDthuoc = LoaiDthuoc;
            
            item.TrangThai = TrangThai;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.LoaiPhieu = LoaiPhieu;
            
            item.IdChot = IdChot;
            
            item.NgayChot = NgayChot;
            
            item.IdCapphat = IdCapphat;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int IdPhieuXuatBn,string MaPhieuXuatBn,DateTime? NgayXuatBn,DateTime? NgayKeDon,string TenBnhan,string TenKhongDau,byte? Gtinh,string ChanDoan,string MaBenh,string DiaChi,int? NamSinh,string SoThe,short? IdDoiTuong,short? IdNhanVien,int? IdDonThuoc,short? IdKhoaCd,short? IdBsyCd,short? IdKhoXuat,byte? HienThi,byte? NoiTru,byte? LoaiDthuoc,byte? TrangThai,DateTime? NgayTao,string NguoiTao,byte? LoaiPhieu,int? IdChot,DateTime? NgayChot,int? IdCapphat)
	    {
		    DPhieuXuatBnhan item = new DPhieuXuatBnhan();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdPhieuXuatBn = IdPhieuXuatBn;
				
			item.MaPhieuXuatBn = MaPhieuXuatBn;
				
			item.NgayXuatBn = NgayXuatBn;
				
			item.NgayKeDon = NgayKeDon;
				
			item.TenBnhan = TenBnhan;
				
			item.TenKhongDau = TenKhongDau;
				
			item.Gtinh = Gtinh;
				
			item.ChanDoan = ChanDoan;
				
			item.MaBenh = MaBenh;
				
			item.DiaChi = DiaChi;
				
			item.NamSinh = NamSinh;
				
			item.SoThe = SoThe;
				
			item.IdDoiTuong = IdDoiTuong;
				
			item.IdNhanVien = IdNhanVien;
				
			item.IdDonThuoc = IdDonThuoc;
				
			item.IdKhoaCd = IdKhoaCd;
				
			item.IdBsyCd = IdBsyCd;
				
			item.IdKhoXuat = IdKhoXuat;
				
			item.HienThi = HienThi;
				
			item.NoiTru = NoiTru;
				
			item.LoaiDthuoc = LoaiDthuoc;
				
			item.TrangThai = TrangThai;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.LoaiPhieu = LoaiPhieu;
				
			item.IdChot = IdChot;
				
			item.NgayChot = NgayChot;
				
			item.IdCapphat = IdCapphat;
				
	        item.Save(UserName);
	    }
    }
}
