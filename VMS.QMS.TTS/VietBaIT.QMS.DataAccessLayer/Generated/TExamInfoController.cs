using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VietBaIT.HISLink.DataAccessLayer
{
    /// <summary>
    /// Controller class for T_Exam_Info
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TExamInfoController
    {
        // Preload our schema..
        TExamInfo thisSchemaLoad = new TExamInfo();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TExamInfoCollection FetchAll()
        {
            TExamInfoCollection coll = new TExamInfoCollection();
            Query qry = new Query(TExamInfo.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TExamInfoCollection FetchByID(object ExamId)
        {
            TExamInfoCollection coll = new TExamInfoCollection().Where("Exam_ID", ExamId).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TExamInfoCollection FetchByQuery(Query qry)
        {
            TExamInfoCollection coll = new TExamInfoCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object ExamId)
        {
            return (TExamInfo.Delete(ExamId) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object ExamId)
        {
            return (TExamInfo.Destroy(ExamId) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long PatientId,string PatientCode,string Reason,short? DiseaseTypeId,short? DayDiseases,string TreatProfile,string DiseaseProfile,string FamilyProfile,string OtherInfo,string CreatedBy,DateTime? CreateDate,string ModifiedBy,DateTime? ModifiedDate,int? FreeDate,int? DeptPatientId,DateTime? FreeStartDate,string KetLuan,int? ExamType,string ChuY,string TienLuong,string HuongDieuTri,string QtBenhLyDbCls,string TomTatKqCls,string PhuongPhapDt,string TinhTrangRv,string HuongDtCheDoTiepTheo,int? IdBsyCdinh,string IpMaySua,string IpMayTao,int? SoNgay)
	    {
		    TExamInfo item = new TExamInfo();
		    
            item.PatientId = PatientId;
            
            item.PatientCode = PatientCode;
            
            item.Reason = Reason;
            
            item.DiseaseTypeId = DiseaseTypeId;
            
            item.DayDiseases = DayDiseases;
            
            item.TreatProfile = TreatProfile;
            
            item.DiseaseProfile = DiseaseProfile;
            
            item.FamilyProfile = FamilyProfile;
            
            item.OtherInfo = OtherInfo;
            
            item.CreatedBy = CreatedBy;
            
            item.CreateDate = CreateDate;
            
            item.ModifiedBy = ModifiedBy;
            
            item.ModifiedDate = ModifiedDate;
            
            item.FreeDate = FreeDate;
            
            item.DeptPatientId = DeptPatientId;
            
            item.FreeStartDate = FreeStartDate;
            
            item.KetLuan = KetLuan;
            
            item.ExamType = ExamType;
            
            item.ChuY = ChuY;
            
            item.TienLuong = TienLuong;
            
            item.HuongDieuTri = HuongDieuTri;
            
            item.QtBenhLyDbCls = QtBenhLyDbCls;
            
            item.TomTatKqCls = TomTatKqCls;
            
            item.PhuongPhapDt = PhuongPhapDt;
            
            item.TinhTrangRv = TinhTrangRv;
            
            item.HuongDtCheDoTiepTheo = HuongDtCheDoTiepTheo;
            
            item.IdBsyCdinh = IdBsyCdinh;
            
            item.IpMaySua = IpMaySua;
            
            item.IpMayTao = IpMayTao;
            
            item.SoNgay = SoNgay;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long ExamId,long PatientId,string PatientCode,string Reason,short? DiseaseTypeId,short? DayDiseases,string TreatProfile,string DiseaseProfile,string FamilyProfile,string OtherInfo,string CreatedBy,DateTime? CreateDate,string ModifiedBy,DateTime? ModifiedDate,int? FreeDate,int? DeptPatientId,DateTime? FreeStartDate,string KetLuan,int? ExamType,string ChuY,string TienLuong,string HuongDieuTri,string QtBenhLyDbCls,string TomTatKqCls,string PhuongPhapDt,string TinhTrangRv,string HuongDtCheDoTiepTheo,int? IdBsyCdinh,string IpMaySua,string IpMayTao,int? SoNgay)
	    {
		    TExamInfo item = new TExamInfo();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.ExamId = ExamId;
				
			item.PatientId = PatientId;
				
			item.PatientCode = PatientCode;
				
			item.Reason = Reason;
				
			item.DiseaseTypeId = DiseaseTypeId;
				
			item.DayDiseases = DayDiseases;
				
			item.TreatProfile = TreatProfile;
				
			item.DiseaseProfile = DiseaseProfile;
				
			item.FamilyProfile = FamilyProfile;
				
			item.OtherInfo = OtherInfo;
				
			item.CreatedBy = CreatedBy;
				
			item.CreateDate = CreateDate;
				
			item.ModifiedBy = ModifiedBy;
				
			item.ModifiedDate = ModifiedDate;
				
			item.FreeDate = FreeDate;
				
			item.DeptPatientId = DeptPatientId;
				
			item.FreeStartDate = FreeStartDate;
				
			item.KetLuan = KetLuan;
				
			item.ExamType = ExamType;
				
			item.ChuY = ChuY;
				
			item.TienLuong = TienLuong;
				
			item.HuongDieuTri = HuongDieuTri;
				
			item.QtBenhLyDbCls = QtBenhLyDbCls;
				
			item.TomTatKqCls = TomTatKqCls;
				
			item.PhuongPhapDt = PhuongPhapDt;
				
			item.TinhTrangRv = TinhTrangRv;
				
			item.HuongDtCheDoTiepTheo = HuongDtCheDoTiepTheo;
				
			item.IdBsyCdinh = IdBsyCdinh;
				
			item.IpMaySua = IpMaySua;
				
			item.IpMayTao = IpMayTao;
				
			item.SoNgay = SoNgay;
				
	        item.Save(UserName);
	    }
    }
}
