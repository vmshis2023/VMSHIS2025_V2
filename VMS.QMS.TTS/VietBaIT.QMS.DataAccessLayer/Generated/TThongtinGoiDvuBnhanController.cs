using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VietBaIT.HISLink.DataAccessLayer
{
    /// <summary>
    /// Controller class for T_THONGTIN_GOI_DVU_BNHAN
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TThongtinGoiDvuBnhanController
    {
        // Preload our schema..
        TThongtinGoiDvuBnhan thisSchemaLoad = new TThongtinGoiDvuBnhan();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TThongtinGoiDvuBnhanCollection FetchAll()
        {
            TThongtinGoiDvuBnhanCollection coll = new TThongtinGoiDvuBnhanCollection();
            Query qry = new Query(TThongtinGoiDvuBnhan.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TThongtinGoiDvuBnhanCollection FetchByID(object IdPhieu)
        {
            TThongtinGoiDvuBnhanCollection coll = new TThongtinGoiDvuBnhanCollection().Where("ID_PHIEU", IdPhieu).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TThongtinGoiDvuBnhanCollection FetchByQuery(Query qry)
        {
            TThongtinGoiDvuBnhanCollection coll = new TThongtinGoiDvuBnhanCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdPhieu)
        {
            return (TThongtinGoiDvuBnhan.Delete(IdPhieu) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdPhieu)
        {
            return (TThongtinGoiDvuBnhan.Destroy(IdPhieu) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string PatientCode,int PatientId,string MaDtuong,int? IdGoiDvu,int? SoNgay,decimal? SoTien,DateTime? NgayHethan,DateTime? NgayTao,string NguoiTao,int? TrangThai,byte? DaXacNhan,int? IdNhanVien,byte? DaTtoan,DateTime? NgayKhoat,string NguoiKhoat,int? PaymentId,string GhiChu,int? NoiTru,int? DepartmentId,int? RegId,int? FromIdGoiDvu,DateTime? NgaySua,string NguoiSua,string LyDoChuyen,DateTime? NgayKthuc,string NguoiKthuc,int? DaHuy,decimal? SoTienTraLai,int? DatTruoc,string KetLuan,int? ExamId,DateTime? NgayThucHien,string NguoiThucHien)
	    {
		    TThongtinGoiDvuBnhan item = new TThongtinGoiDvuBnhan();
		    
            item.PatientCode = PatientCode;
            
            item.PatientId = PatientId;
            
            item.MaDtuong = MaDtuong;
            
            item.IdGoiDvu = IdGoiDvu;
            
            item.SoNgay = SoNgay;
            
            item.SoTien = SoTien;
            
            item.NgayHethan = NgayHethan;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.TrangThai = TrangThai;
            
            item.DaXacNhan = DaXacNhan;
            
            item.IdNhanVien = IdNhanVien;
            
            item.DaTtoan = DaTtoan;
            
            item.NgayKhoat = NgayKhoat;
            
            item.NguoiKhoat = NguoiKhoat;
            
            item.PaymentId = PaymentId;
            
            item.GhiChu = GhiChu;
            
            item.NoiTru = NoiTru;
            
            item.DepartmentId = DepartmentId;
            
            item.RegId = RegId;
            
            item.FromIdGoiDvu = FromIdGoiDvu;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.LyDoChuyen = LyDoChuyen;
            
            item.NgayKthuc = NgayKthuc;
            
            item.NguoiKthuc = NguoiKthuc;
            
            item.DaHuy = DaHuy;
            
            item.SoTienTraLai = SoTienTraLai;
            
            item.DatTruoc = DatTruoc;
            
            item.KetLuan = KetLuan;
            
            item.ExamId = ExamId;
            
            item.NgayThucHien = NgayThucHien;
            
            item.NguoiThucHien = NguoiThucHien;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int IdPhieu,string PatientCode,int PatientId,string MaDtuong,int? IdGoiDvu,int? SoNgay,decimal? SoTien,DateTime? NgayHethan,DateTime? NgayTao,string NguoiTao,int? TrangThai,byte? DaXacNhan,int? IdNhanVien,byte? DaTtoan,DateTime? NgayKhoat,string NguoiKhoat,int? PaymentId,string GhiChu,int? NoiTru,int? DepartmentId,int? RegId,int? FromIdGoiDvu,DateTime? NgaySua,string NguoiSua,string LyDoChuyen,DateTime? NgayKthuc,string NguoiKthuc,int? DaHuy,decimal? SoTienTraLai,int? DatTruoc,string KetLuan,int? ExamId,DateTime? NgayThucHien,string NguoiThucHien)
	    {
		    TThongtinGoiDvuBnhan item = new TThongtinGoiDvuBnhan();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdPhieu = IdPhieu;
				
			item.PatientCode = PatientCode;
				
			item.PatientId = PatientId;
				
			item.MaDtuong = MaDtuong;
				
			item.IdGoiDvu = IdGoiDvu;
				
			item.SoNgay = SoNgay;
				
			item.SoTien = SoTien;
				
			item.NgayHethan = NgayHethan;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.TrangThai = TrangThai;
				
			item.DaXacNhan = DaXacNhan;
				
			item.IdNhanVien = IdNhanVien;
				
			item.DaTtoan = DaTtoan;
				
			item.NgayKhoat = NgayKhoat;
				
			item.NguoiKhoat = NguoiKhoat;
				
			item.PaymentId = PaymentId;
				
			item.GhiChu = GhiChu;
				
			item.NoiTru = NoiTru;
				
			item.DepartmentId = DepartmentId;
				
			item.RegId = RegId;
				
			item.FromIdGoiDvu = FromIdGoiDvu;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.LyDoChuyen = LyDoChuyen;
				
			item.NgayKthuc = NgayKthuc;
				
			item.NguoiKthuc = NguoiKthuc;
				
			item.DaHuy = DaHuy;
				
			item.SoTienTraLai = SoTienTraLai;
				
			item.DatTruoc = DatTruoc;
				
			item.KetLuan = KetLuan;
				
			item.ExamId = ExamId;
				
			item.NgayThucHien = NgayThucHien;
				
			item.NguoiThucHien = NguoiThucHien;
				
	        item.Save(UserName);
	    }
    }
}
