using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for t_thau_qdinh
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TThauQdinhController
    {
        // Preload our schema..
        TThauQdinh thisSchemaLoad = new TThauQdinh();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TThauQdinhCollection FetchAll()
        {
            TThauQdinhCollection coll = new TThauQdinhCollection();
            Query qry = new Query(TThauQdinh.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TThauQdinhCollection FetchByID(object IdQdinh)
        {
            TThauQdinhCollection coll = new TThauQdinhCollection().Where("id_qdinh", IdQdinh).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TThauQdinhCollection FetchByQuery(Query qry)
        {
            TThauQdinhCollection coll = new TThauQdinhCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdQdinh)
        {
            return (TThauQdinh.Delete(IdQdinh) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdQdinh)
        {
            return (TThauQdinh.Destroy(IdQdinh) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MasoQdinh,string TensoQdinh,short Stt,bool TrangThai,int IdThuoc,string SoDangky,decimal GiaNhap,DateTime NgayCongbo,DateTime Tungay,DateTime Denngay,string Loaithau,string Nhomthau,decimal SoLuong,decimal GiaBhyt,string GoiThau,string NhaThau,long IdThau,long IdThauCt,string MaNhaCc,int HthucThau,int? BophanDung,string NhomTckt,string NguonGoc,string DangSoche,string Tccl,byte? LaApthau,string Ghichu,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    TThauQdinh item = new TThauQdinh();
		    
            item.MasoQdinh = MasoQdinh;
            
            item.TensoQdinh = TensoQdinh;
            
            item.Stt = Stt;
            
            item.TrangThai = TrangThai;
            
            item.IdThuoc = IdThuoc;
            
            item.SoDangky = SoDangky;
            
            item.GiaNhap = GiaNhap;
            
            item.NgayCongbo = NgayCongbo;
            
            item.Tungay = Tungay;
            
            item.Denngay = Denngay;
            
            item.Loaithau = Loaithau;
            
            item.Nhomthau = Nhomthau;
            
            item.SoLuong = SoLuong;
            
            item.GiaBhyt = GiaBhyt;
            
            item.GoiThau = GoiThau;
            
            item.NhaThau = NhaThau;
            
            item.IdThau = IdThau;
            
            item.IdThauCt = IdThauCt;
            
            item.MaNhaCc = MaNhaCc;
            
            item.HthucThau = HthucThau;
            
            item.BophanDung = BophanDung;
            
            item.NhomTckt = NhomTckt;
            
            item.NguonGoc = NguonGoc;
            
            item.DangSoche = DangSoche;
            
            item.Tccl = Tccl;
            
            item.LaApthau = LaApthau;
            
            item.Ghichu = Ghichu;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdQdinh,string MasoQdinh,string TensoQdinh,short Stt,bool TrangThai,int IdThuoc,string SoDangky,decimal GiaNhap,DateTime NgayCongbo,DateTime Tungay,DateTime Denngay,string Loaithau,string Nhomthau,decimal SoLuong,decimal GiaBhyt,string GoiThau,string NhaThau,long IdThau,long IdThauCt,string MaNhaCc,int HthucThau,int? BophanDung,string NhomTckt,string NguonGoc,string DangSoche,string Tccl,byte? LaApthau,string Ghichu,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    TThauQdinh item = new TThauQdinh();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdQdinh = IdQdinh;
				
			item.MasoQdinh = MasoQdinh;
				
			item.TensoQdinh = TensoQdinh;
				
			item.Stt = Stt;
				
			item.TrangThai = TrangThai;
				
			item.IdThuoc = IdThuoc;
				
			item.SoDangky = SoDangky;
				
			item.GiaNhap = GiaNhap;
				
			item.NgayCongbo = NgayCongbo;
				
			item.Tungay = Tungay;
				
			item.Denngay = Denngay;
				
			item.Loaithau = Loaithau;
				
			item.Nhomthau = Nhomthau;
				
			item.SoLuong = SoLuong;
				
			item.GiaBhyt = GiaBhyt;
				
			item.GoiThau = GoiThau;
				
			item.NhaThau = NhaThau;
				
			item.IdThau = IdThau;
				
			item.IdThauCt = IdThauCt;
				
			item.MaNhaCc = MaNhaCc;
				
			item.HthucThau = HthucThau;
				
			item.BophanDung = BophanDung;
				
			item.NhomTckt = NhomTckt;
				
			item.NguonGoc = NguonGoc;
				
			item.DangSoche = DangSoche;
				
			item.Tccl = Tccl;
				
			item.LaApthau = LaApthau;
				
			item.Ghichu = Ghichu;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
