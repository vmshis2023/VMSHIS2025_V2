using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for emr_thongtin_nguoibenh
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class EmrThongtinNguoibenhController
    {
        // Preload our schema..
        EmrThongtinNguoibenh thisSchemaLoad = new EmrThongtinNguoibenh();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public EmrThongtinNguoibenhCollection FetchAll()
        {
            EmrThongtinNguoibenhCollection coll = new EmrThongtinNguoibenhCollection();
            Query qry = new Query(EmrThongtinNguoibenh.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public EmrThongtinNguoibenhCollection FetchByID(object IdBenhnhan)
        {
            EmrThongtinNguoibenhCollection coll = new EmrThongtinNguoibenhCollection().Where("id_benhnhan", IdBenhnhan).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public EmrThongtinNguoibenhCollection FetchByQuery(Query qry)
        {
            EmrThongtinNguoibenhCollection coll = new EmrThongtinNguoibenhCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdBenhnhan)
        {
            return (EmrThongtinNguoibenh.Delete(IdBenhnhan) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdBenhnhan)
        {
            return (EmrThongtinNguoibenh.Destroy(IdBenhnhan) == 1);
        }
        
        
        
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(long IdBenhnhan,string MaLuotkham)
        {
            Query qry = new Query(EmrThongtinNguoibenh.Schema);
            qry.QueryType = QueryType.Delete;
            qry.AddWhere("IdBenhnhan", IdBenhnhan).AND("MaLuotkham", MaLuotkham);
            qry.Execute();
            return (true);
        }        
       
    	
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdBenhnhan,string MaLuotkham,string MaYte,string TenBenhnhan,DateTime? NgaySinh,short? Tuoi,byte? LoaiTuoi,string MaGioitinh,string GioiTinh,string MaNghenghiep,string TenNghenghiep,string MaDantoc,string TenDantoc,string MaTongiao,string TenTongiao,string MaQuocgia,string TenQuocgia,bool? NgoaiKieu,string DiaChi,string Sonha,string Thonpho,string MaXaphuong,string TenXaphuong,string MaQuanhuyen,string TenQuanhuyen,string MaTinhtp,string TenTinhtp,string MaCoquan,string TenCoquan,byte? MaDoituong,string TenDoituong,string MatheBhyt,DateTime? BhytTungay,DateTime? BhytDenngay,string NguoiLienhe,string DienthoaiLienhe,string HotenBo,string TrinhdoVanhoaBo,string NghenghiepBo,string HotenMe,string TrinhdoVanhoaMe,string NghenghiepMe,string CmtCccd,string SoHochieu,string DienThoai,string Email,string MaNoigioithieu,string Noigioithieu,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    EmrThongtinNguoibenh item = new EmrThongtinNguoibenh();
		    
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.MaYte = MaYte;
            
            item.TenBenhnhan = TenBenhnhan;
            
            item.NgaySinh = NgaySinh;
            
            item.Tuoi = Tuoi;
            
            item.LoaiTuoi = LoaiTuoi;
            
            item.MaGioitinh = MaGioitinh;
            
            item.GioiTinh = GioiTinh;
            
            item.MaNghenghiep = MaNghenghiep;
            
            item.TenNghenghiep = TenNghenghiep;
            
            item.MaDantoc = MaDantoc;
            
            item.TenDantoc = TenDantoc;
            
            item.MaTongiao = MaTongiao;
            
            item.TenTongiao = TenTongiao;
            
            item.MaQuocgia = MaQuocgia;
            
            item.TenQuocgia = TenQuocgia;
            
            item.NgoaiKieu = NgoaiKieu;
            
            item.DiaChi = DiaChi;
            
            item.Sonha = Sonha;
            
            item.Thonpho = Thonpho;
            
            item.MaXaphuong = MaXaphuong;
            
            item.TenXaphuong = TenXaphuong;
            
            item.MaQuanhuyen = MaQuanhuyen;
            
            item.TenQuanhuyen = TenQuanhuyen;
            
            item.MaTinhtp = MaTinhtp;
            
            item.TenTinhtp = TenTinhtp;
            
            item.MaCoquan = MaCoquan;
            
            item.TenCoquan = TenCoquan;
            
            item.MaDoituong = MaDoituong;
            
            item.TenDoituong = TenDoituong;
            
            item.MatheBhyt = MatheBhyt;
            
            item.BhytTungay = BhytTungay;
            
            item.BhytDenngay = BhytDenngay;
            
            item.NguoiLienhe = NguoiLienhe;
            
            item.DienthoaiLienhe = DienthoaiLienhe;
            
            item.HotenBo = HotenBo;
            
            item.TrinhdoVanhoaBo = TrinhdoVanhoaBo;
            
            item.NghenghiepBo = NghenghiepBo;
            
            item.HotenMe = HotenMe;
            
            item.TrinhdoVanhoaMe = TrinhdoVanhoaMe;
            
            item.NghenghiepMe = NghenghiepMe;
            
            item.CmtCccd = CmtCccd;
            
            item.SoHochieu = SoHochieu;
            
            item.DienThoai = DienThoai;
            
            item.Email = Email;
            
            item.MaNoigioithieu = MaNoigioithieu;
            
            item.Noigioithieu = Noigioithieu;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdBenhnhan,string MaLuotkham,string MaYte,string TenBenhnhan,DateTime? NgaySinh,short? Tuoi,byte? LoaiTuoi,string MaGioitinh,string GioiTinh,string MaNghenghiep,string TenNghenghiep,string MaDantoc,string TenDantoc,string MaTongiao,string TenTongiao,string MaQuocgia,string TenQuocgia,bool? NgoaiKieu,string DiaChi,string Sonha,string Thonpho,string MaXaphuong,string TenXaphuong,string MaQuanhuyen,string TenQuanhuyen,string MaTinhtp,string TenTinhtp,string MaCoquan,string TenCoquan,byte? MaDoituong,string TenDoituong,string MatheBhyt,DateTime? BhytTungay,DateTime? BhytDenngay,string NguoiLienhe,string DienthoaiLienhe,string HotenBo,string TrinhdoVanhoaBo,string NghenghiepBo,string HotenMe,string TrinhdoVanhoaMe,string NghenghiepMe,string CmtCccd,string SoHochieu,string DienThoai,string Email,string MaNoigioithieu,string Noigioithieu,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    EmrThongtinNguoibenh item = new EmrThongtinNguoibenh();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.MaYte = MaYte;
				
			item.TenBenhnhan = TenBenhnhan;
				
			item.NgaySinh = NgaySinh;
				
			item.Tuoi = Tuoi;
				
			item.LoaiTuoi = LoaiTuoi;
				
			item.MaGioitinh = MaGioitinh;
				
			item.GioiTinh = GioiTinh;
				
			item.MaNghenghiep = MaNghenghiep;
				
			item.TenNghenghiep = TenNghenghiep;
				
			item.MaDantoc = MaDantoc;
				
			item.TenDantoc = TenDantoc;
				
			item.MaTongiao = MaTongiao;
				
			item.TenTongiao = TenTongiao;
				
			item.MaQuocgia = MaQuocgia;
				
			item.TenQuocgia = TenQuocgia;
				
			item.NgoaiKieu = NgoaiKieu;
				
			item.DiaChi = DiaChi;
				
			item.Sonha = Sonha;
				
			item.Thonpho = Thonpho;
				
			item.MaXaphuong = MaXaphuong;
				
			item.TenXaphuong = TenXaphuong;
				
			item.MaQuanhuyen = MaQuanhuyen;
				
			item.TenQuanhuyen = TenQuanhuyen;
				
			item.MaTinhtp = MaTinhtp;
				
			item.TenTinhtp = TenTinhtp;
				
			item.MaCoquan = MaCoquan;
				
			item.TenCoquan = TenCoquan;
				
			item.MaDoituong = MaDoituong;
				
			item.TenDoituong = TenDoituong;
				
			item.MatheBhyt = MatheBhyt;
				
			item.BhytTungay = BhytTungay;
				
			item.BhytDenngay = BhytDenngay;
				
			item.NguoiLienhe = NguoiLienhe;
				
			item.DienthoaiLienhe = DienthoaiLienhe;
				
			item.HotenBo = HotenBo;
				
			item.TrinhdoVanhoaBo = TrinhdoVanhoaBo;
				
			item.NghenghiepBo = NghenghiepBo;
				
			item.HotenMe = HotenMe;
				
			item.TrinhdoVanhoaMe = TrinhdoVanhoaMe;
				
			item.NghenghiepMe = NghenghiepMe;
				
			item.CmtCccd = CmtCccd;
				
			item.SoHochieu = SoHochieu;
				
			item.DienThoai = DienThoai;
				
			item.Email = Email;
				
			item.MaNoigioithieu = MaNoigioithieu;
				
			item.Noigioithieu = Noigioithieu;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
