using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for metha_danhsach_benhnhan
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class MethaDanhsachBenhnhanController
    {
        // Preload our schema..
        MethaDanhsachBenhnhan thisSchemaLoad = new MethaDanhsachBenhnhan();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public MethaDanhsachBenhnhanCollection FetchAll()
        {
            MethaDanhsachBenhnhanCollection coll = new MethaDanhsachBenhnhanCollection();
            Query qry = new Query(MethaDanhsachBenhnhan.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public MethaDanhsachBenhnhanCollection FetchByID(object IdBenhnhan)
        {
            MethaDanhsachBenhnhanCollection coll = new MethaDanhsachBenhnhanCollection().Where("id_benhnhan", IdBenhnhan).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public MethaDanhsachBenhnhanCollection FetchByQuery(Query qry)
        {
            MethaDanhsachBenhnhanCollection coll = new MethaDanhsachBenhnhanCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdBenhnhan)
        {
            return (MethaDanhsachBenhnhan.Delete(IdBenhnhan) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdBenhnhan)
        {
            return (MethaDanhsachBenhnhan.Destroy(IdBenhnhan) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaLienket,string MaBenhnhan,string TenBenhnhan,string TtMatinh,string TtMaquan,string TtMaxa,string TtThonap,string DiachiThuongtru,string TamtruMatinh,string TamtruMaquan,string TamtruMaxa,string TamtruThonap,string DiachiTamtru,DateTime? NgaySinh,int? NamSinh,string GioiTinh,string IdGioitinh,string SoDienthoai,string NgheNghiep,string DanToc,string TonGiao,string Email,byte[] ImageBenhnhan,string TtHonnhan,string TtHocvan,string TtTaichinh,string TtDieutri,string NoiGioithieu,int? CosoDtri,byte? LacosoGiamgiu,string LoaiGiayto,string SoGiayto,DateTime? Ngaycap,string Noicap,string NguoithanHovaten,string NguoithanMoiquanhe,string NguoithanDiachi,string NguoithanSdt,DateTime? NgayBatdaudtri,string NguoiTiepdon,DateTime? NgayTiepdon,string MotaThem,string Nguoitao,DateTime? Ngaytao,string Nguoisua,DateTime? Ngaysua,string Ipmaytao,string Ipmaysua,string LastAction)
	    {
		    MethaDanhsachBenhnhan item = new MethaDanhsachBenhnhan();
		    
            item.MaLienket = MaLienket;
            
            item.MaBenhnhan = MaBenhnhan;
            
            item.TenBenhnhan = TenBenhnhan;
            
            item.TtMatinh = TtMatinh;
            
            item.TtMaquan = TtMaquan;
            
            item.TtMaxa = TtMaxa;
            
            item.TtThonap = TtThonap;
            
            item.DiachiThuongtru = DiachiThuongtru;
            
            item.TamtruMatinh = TamtruMatinh;
            
            item.TamtruMaquan = TamtruMaquan;
            
            item.TamtruMaxa = TamtruMaxa;
            
            item.TamtruThonap = TamtruThonap;
            
            item.DiachiTamtru = DiachiTamtru;
            
            item.NgaySinh = NgaySinh;
            
            item.NamSinh = NamSinh;
            
            item.GioiTinh = GioiTinh;
            
            item.IdGioitinh = IdGioitinh;
            
            item.SoDienthoai = SoDienthoai;
            
            item.NgheNghiep = NgheNghiep;
            
            item.DanToc = DanToc;
            
            item.TonGiao = TonGiao;
            
            item.Email = Email;
            
            item.ImageBenhnhan = ImageBenhnhan;
            
            item.TtHonnhan = TtHonnhan;
            
            item.TtHocvan = TtHocvan;
            
            item.TtTaichinh = TtTaichinh;
            
            item.TtDieutri = TtDieutri;
            
            item.NoiGioithieu = NoiGioithieu;
            
            item.CosoDtri = CosoDtri;
            
            item.LacosoGiamgiu = LacosoGiamgiu;
            
            item.LoaiGiayto = LoaiGiayto;
            
            item.SoGiayto = SoGiayto;
            
            item.Ngaycap = Ngaycap;
            
            item.Noicap = Noicap;
            
            item.NguoithanHovaten = NguoithanHovaten;
            
            item.NguoithanMoiquanhe = NguoithanMoiquanhe;
            
            item.NguoithanDiachi = NguoithanDiachi;
            
            item.NguoithanSdt = NguoithanSdt;
            
            item.NgayBatdaudtri = NgayBatdaudtri;
            
            item.NguoiTiepdon = NguoiTiepdon;
            
            item.NgayTiepdon = NgayTiepdon;
            
            item.MotaThem = MotaThem;
            
            item.Nguoitao = Nguoitao;
            
            item.Ngaytao = Ngaytao;
            
            item.Nguoisua = Nguoisua;
            
            item.Ngaysua = Ngaysua;
            
            item.Ipmaytao = Ipmaytao;
            
            item.Ipmaysua = Ipmaysua;
            
            item.LastAction = LastAction;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdBenhnhan,string MaLienket,string MaBenhnhan,string TenBenhnhan,string TtMatinh,string TtMaquan,string TtMaxa,string TtThonap,string DiachiThuongtru,string TamtruMatinh,string TamtruMaquan,string TamtruMaxa,string TamtruThonap,string DiachiTamtru,DateTime? NgaySinh,int? NamSinh,string GioiTinh,string IdGioitinh,string SoDienthoai,string NgheNghiep,string DanToc,string TonGiao,string Email,byte[] ImageBenhnhan,string TtHonnhan,string TtHocvan,string TtTaichinh,string TtDieutri,string NoiGioithieu,int? CosoDtri,byte? LacosoGiamgiu,string LoaiGiayto,string SoGiayto,DateTime? Ngaycap,string Noicap,string NguoithanHovaten,string NguoithanMoiquanhe,string NguoithanDiachi,string NguoithanSdt,DateTime? NgayBatdaudtri,string NguoiTiepdon,DateTime? NgayTiepdon,string MotaThem,string Nguoitao,DateTime? Ngaytao,string Nguoisua,DateTime? Ngaysua,string Ipmaytao,string Ipmaysua,string LastAction)
	    {
		    MethaDanhsachBenhnhan item = new MethaDanhsachBenhnhan();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLienket = MaLienket;
				
			item.MaBenhnhan = MaBenhnhan;
				
			item.TenBenhnhan = TenBenhnhan;
				
			item.TtMatinh = TtMatinh;
				
			item.TtMaquan = TtMaquan;
				
			item.TtMaxa = TtMaxa;
				
			item.TtThonap = TtThonap;
				
			item.DiachiThuongtru = DiachiThuongtru;
				
			item.TamtruMatinh = TamtruMatinh;
				
			item.TamtruMaquan = TamtruMaquan;
				
			item.TamtruMaxa = TamtruMaxa;
				
			item.TamtruThonap = TamtruThonap;
				
			item.DiachiTamtru = DiachiTamtru;
				
			item.NgaySinh = NgaySinh;
				
			item.NamSinh = NamSinh;
				
			item.GioiTinh = GioiTinh;
				
			item.IdGioitinh = IdGioitinh;
				
			item.SoDienthoai = SoDienthoai;
				
			item.NgheNghiep = NgheNghiep;
				
			item.DanToc = DanToc;
				
			item.TonGiao = TonGiao;
				
			item.Email = Email;
				
			item.ImageBenhnhan = ImageBenhnhan;
				
			item.TtHonnhan = TtHonnhan;
				
			item.TtHocvan = TtHocvan;
				
			item.TtTaichinh = TtTaichinh;
				
			item.TtDieutri = TtDieutri;
				
			item.NoiGioithieu = NoiGioithieu;
				
			item.CosoDtri = CosoDtri;
				
			item.LacosoGiamgiu = LacosoGiamgiu;
				
			item.LoaiGiayto = LoaiGiayto;
				
			item.SoGiayto = SoGiayto;
				
			item.Ngaycap = Ngaycap;
				
			item.Noicap = Noicap;
				
			item.NguoithanHovaten = NguoithanHovaten;
				
			item.NguoithanMoiquanhe = NguoithanMoiquanhe;
				
			item.NguoithanDiachi = NguoithanDiachi;
				
			item.NguoithanSdt = NguoithanSdt;
				
			item.NgayBatdaudtri = NgayBatdaudtri;
				
			item.NguoiTiepdon = NguoiTiepdon;
				
			item.NgayTiepdon = NgayTiepdon;
				
			item.MotaThem = MotaThem;
				
			item.Nguoitao = Nguoitao;
				
			item.Ngaytao = Ngaytao;
				
			item.Nguoisua = Nguoisua;
				
			item.Ngaysua = Ngaysua;
				
			item.Ipmaytao = Ipmaytao;
				
			item.Ipmaysua = Ipmaysua;
				
			item.LastAction = LastAction;
				
	        item.Save(UserName);
	    }
    }
}
