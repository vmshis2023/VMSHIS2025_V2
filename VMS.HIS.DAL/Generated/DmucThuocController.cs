using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for dmuc_thuoc
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class DmucThuocController
    {
        // Preload our schema..
        DmucThuoc thisSchemaLoad = new DmucThuoc();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public DmucThuocCollection FetchAll()
        {
            DmucThuocCollection coll = new DmucThuocCollection();
            Query qry = new Query(DmucThuoc.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public DmucThuocCollection FetchByID(object IdThuoc)
        {
            DmucThuocCollection coll = new DmucThuocCollection().Where("id_thuoc", IdThuoc).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public DmucThuocCollection FetchByQuery(Query qry)
        {
            DmucThuocCollection coll = new DmucThuocCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdThuoc)
        {
            return (DmucThuoc.Delete(IdThuoc) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdThuoc)
        {
            return (DmucThuoc.Destroy(IdThuoc) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaThuoc,string MaQD40,string MaQDTinh,string QD31,short IdLoaithuoc,string MaTinhchat,string TenThuoc,string TenBietduoc,string TenBhyt,decimal DonGia,string MaDonvitinh,string MotaThem,string MaHoatchat,string HamLuong,string HangSanxuat,string SoDangky,string NuocSanxuat,byte TrangThai,string DangBaoche,short? GioihanKedon,int? DonviBut,string KieuThuocvattu,string NoitruNgoaitru,byte? TuTuc,decimal? GiaBhyt,decimal? PhuthuDungtuyen,decimal? PhuthuTraituyen,byte? CoChiathuoc,int? SluongChia,decimal? DongiaChia,string MaDvichia,string NguoiTao,DateTime? NgayTao,DateTime? NgaySua,string NguoiSua,string KieuBiendong,string MaDuongdung,byte? SingleService,int? SluongVuottran,string LastActionName,decimal? GiaDv,string CongBo,string IdNhathau,string LoaiThau,string NhomThau,string NguonGoc,int? TonDau,bool? TuvanThem,bool? HuySudung,bool? ThuocTheodoi,bool? NhapSluong0,bool? AxCongbhyt,bool? CamguiXml,bool? KekemDvu,bool? LagoiVattu,string QuiCach,string MaPhanloaithuoc,string HoatChat,decimal? GioihanThoigian,decimal? LieudungToida,decimal? TyleTt,byte? VatInvoice)
	    {
		    DmucThuoc item = new DmucThuoc();
		    
            item.MaThuoc = MaThuoc;
            
            item.MaQD40 = MaQD40;
            
            item.MaQDTinh = MaQDTinh;
            
            item.QD31 = QD31;
            
            item.IdLoaithuoc = IdLoaithuoc;
            
            item.MaTinhchat = MaTinhchat;
            
            item.TenThuoc = TenThuoc;
            
            item.TenBietduoc = TenBietduoc;
            
            item.TenBhyt = TenBhyt;
            
            item.DonGia = DonGia;
            
            item.MaDonvitinh = MaDonvitinh;
            
            item.MotaThem = MotaThem;
            
            item.MaHoatchat = MaHoatchat;
            
            item.HamLuong = HamLuong;
            
            item.HangSanxuat = HangSanxuat;
            
            item.SoDangky = SoDangky;
            
            item.NuocSanxuat = NuocSanxuat;
            
            item.TrangThai = TrangThai;
            
            item.DangBaoche = DangBaoche;
            
            item.GioihanKedon = GioihanKedon;
            
            item.DonviBut = DonviBut;
            
            item.KieuThuocvattu = KieuThuocvattu;
            
            item.NoitruNgoaitru = NoitruNgoaitru;
            
            item.TuTuc = TuTuc;
            
            item.GiaBhyt = GiaBhyt;
            
            item.PhuthuDungtuyen = PhuthuDungtuyen;
            
            item.PhuthuTraituyen = PhuthuTraituyen;
            
            item.CoChiathuoc = CoChiathuoc;
            
            item.SluongChia = SluongChia;
            
            item.DongiaChia = DongiaChia;
            
            item.MaDvichia = MaDvichia;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.KieuBiendong = KieuBiendong;
            
            item.MaDuongdung = MaDuongdung;
            
            item.SingleService = SingleService;
            
            item.SluongVuottran = SluongVuottran;
            
            item.LastActionName = LastActionName;
            
            item.GiaDv = GiaDv;
            
            item.CongBo = CongBo;
            
            item.IdNhathau = IdNhathau;
            
            item.LoaiThau = LoaiThau;
            
            item.NhomThau = NhomThau;
            
            item.NguonGoc = NguonGoc;
            
            item.TonDau = TonDau;
            
            item.TuvanThem = TuvanThem;
            
            item.HuySudung = HuySudung;
            
            item.ThuocTheodoi = ThuocTheodoi;
            
            item.NhapSluong0 = NhapSluong0;
            
            item.AxCongbhyt = AxCongbhyt;
            
            item.CamguiXml = CamguiXml;
            
            item.KekemDvu = KekemDvu;
            
            item.LagoiVattu = LagoiVattu;
            
            item.QuiCach = QuiCach;
            
            item.MaPhanloaithuoc = MaPhanloaithuoc;
            
            item.HoatChat = HoatChat;
            
            item.GioihanThoigian = GioihanThoigian;
            
            item.LieudungToida = LieudungToida;
            
            item.TyleTt = TyleTt;
            
            item.VatInvoice = VatInvoice;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int IdThuoc,string MaThuoc,string MaQD40,string MaQDTinh,string QD31,short IdLoaithuoc,string MaTinhchat,string TenThuoc,string TenBietduoc,string TenBhyt,decimal DonGia,string MaDonvitinh,string MotaThem,string MaHoatchat,string HamLuong,string HangSanxuat,string SoDangky,string NuocSanxuat,byte TrangThai,string DangBaoche,short? GioihanKedon,int? DonviBut,string KieuThuocvattu,string NoitruNgoaitru,byte? TuTuc,decimal? GiaBhyt,decimal? PhuthuDungtuyen,decimal? PhuthuTraituyen,byte? CoChiathuoc,int? SluongChia,decimal? DongiaChia,string MaDvichia,string NguoiTao,DateTime? NgayTao,DateTime? NgaySua,string NguoiSua,string KieuBiendong,string MaDuongdung,byte? SingleService,int? SluongVuottran,string LastActionName,decimal? GiaDv,string CongBo,string IdNhathau,string LoaiThau,string NhomThau,string NguonGoc,int? TonDau,bool? TuvanThem,bool? HuySudung,bool? ThuocTheodoi,bool? NhapSluong0,bool? AxCongbhyt,bool? CamguiXml,bool? KekemDvu,bool? LagoiVattu,string QuiCach,string MaPhanloaithuoc,string HoatChat,decimal? GioihanThoigian,decimal? LieudungToida,decimal? TyleTt,byte? VatInvoice)
	    {
		    DmucThuoc item = new DmucThuoc();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdThuoc = IdThuoc;
				
			item.MaThuoc = MaThuoc;
				
			item.MaQD40 = MaQD40;
				
			item.MaQDTinh = MaQDTinh;
				
			item.QD31 = QD31;
				
			item.IdLoaithuoc = IdLoaithuoc;
				
			item.MaTinhchat = MaTinhchat;
				
			item.TenThuoc = TenThuoc;
				
			item.TenBietduoc = TenBietduoc;
				
			item.TenBhyt = TenBhyt;
				
			item.DonGia = DonGia;
				
			item.MaDonvitinh = MaDonvitinh;
				
			item.MotaThem = MotaThem;
				
			item.MaHoatchat = MaHoatchat;
				
			item.HamLuong = HamLuong;
				
			item.HangSanxuat = HangSanxuat;
				
			item.SoDangky = SoDangky;
				
			item.NuocSanxuat = NuocSanxuat;
				
			item.TrangThai = TrangThai;
				
			item.DangBaoche = DangBaoche;
				
			item.GioihanKedon = GioihanKedon;
				
			item.DonviBut = DonviBut;
				
			item.KieuThuocvattu = KieuThuocvattu;
				
			item.NoitruNgoaitru = NoitruNgoaitru;
				
			item.TuTuc = TuTuc;
				
			item.GiaBhyt = GiaBhyt;
				
			item.PhuthuDungtuyen = PhuthuDungtuyen;
				
			item.PhuthuTraituyen = PhuthuTraituyen;
				
			item.CoChiathuoc = CoChiathuoc;
				
			item.SluongChia = SluongChia;
				
			item.DongiaChia = DongiaChia;
				
			item.MaDvichia = MaDvichia;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.KieuBiendong = KieuBiendong;
				
			item.MaDuongdung = MaDuongdung;
				
			item.SingleService = SingleService;
				
			item.SluongVuottran = SluongVuottran;
				
			item.LastActionName = LastActionName;
				
			item.GiaDv = GiaDv;
				
			item.CongBo = CongBo;
				
			item.IdNhathau = IdNhathau;
				
			item.LoaiThau = LoaiThau;
				
			item.NhomThau = NhomThau;
				
			item.NguonGoc = NguonGoc;
				
			item.TonDau = TonDau;
				
			item.TuvanThem = TuvanThem;
				
			item.HuySudung = HuySudung;
				
			item.ThuocTheodoi = ThuocTheodoi;
				
			item.NhapSluong0 = NhapSluong0;
				
			item.AxCongbhyt = AxCongbhyt;
				
			item.CamguiXml = CamguiXml;
				
			item.KekemDvu = KekemDvu;
				
			item.LagoiVattu = LagoiVattu;
				
			item.QuiCach = QuiCach;
				
			item.MaPhanloaithuoc = MaPhanloaithuoc;
				
			item.HoatChat = HoatChat;
				
			item.GioihanThoigian = GioihanThoigian;
				
			item.LieudungToida = LieudungToida;
				
			item.TyleTt = TyleTt;
				
			item.VatInvoice = VatInvoice;
				
	        item.Save(UserName);
	    }
    }
}
