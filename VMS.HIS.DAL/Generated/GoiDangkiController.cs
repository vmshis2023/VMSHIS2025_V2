using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for goi_dangki
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class GoiDangkiController
    {
        // Preload our schema..
        GoiDangki thisSchemaLoad = new GoiDangki();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public GoiDangkiCollection FetchAll()
        {
            GoiDangkiCollection coll = new GoiDangkiCollection();
            Query qry = new Query(GoiDangki.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public GoiDangkiCollection FetchByID(object IdDangky)
        {
            GoiDangkiCollection coll = new GoiDangkiCollection().Where("id_dangky", IdDangky).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public GoiDangkiCollection FetchByQuery(Query qry)
        {
            GoiDangkiCollection coll = new GoiDangkiCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdDangky)
        {
            return (GoiDangki.Delete(IdDangky) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdDangky)
        {
            return (GoiDangki.Destroy(IdDangky) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(int IdGoi,int IdBenhnhan,string MaLuotkham,DateTime? HieulucTungay,DateTime? HieulucDenngay,DateTime? NgayDangky,string Solo,decimal? SoTien,decimal? MienGiam,decimal? GiamBhyt,string GhiChu,bool TthaiTtoan,bool TthaiKichhoat,DateTime? NgayKichhoat,bool? TthaiHuy,DateTime? NgayHuy,string NguoiHuy,string LydoHuy,bool? TthaiKetthuc,DateTime? NgayKetthuc,string NguoiKetthuc,string LydoKetthuc,DateTime NgayTao,string NguoiTao,int? IdNvienTao,int? IdKhoaThuchien,int? IdPhongChidinh,int? IdKhoaChidinh,int? IdKhoadieutri,long? IdPhieudieutri,long? IdKham,long? IdThe,byte? Noitru,decimal? TileChietkhau,decimal? TienChietkhau,string KieuChietkhau,decimal? ThanhTien,long? IdThanhtoan,DateTime? NgayThanhtoan,byte? NguonThanhtoan,string NguoiSua,DateTime? NgaySua,string SoLuong,string PhuThu,string BhytChitra,string BnhanChitra,decimal? TyleTt,byte? BhytNguonKhac,decimal? BhytGiaTyle,decimal? BnTtt,decimal? BnCct,decimal? TyleTtNguonkhac,decimal? TyleHotro,byte? TuTuc,decimal? PtramBhyt,decimal? PtramBhytGoc,short? IdDoituongKcb)
	    {
		    GoiDangki item = new GoiDangki();
		    
            item.IdGoi = IdGoi;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.HieulucTungay = HieulucTungay;
            
            item.HieulucDenngay = HieulucDenngay;
            
            item.NgayDangky = NgayDangky;
            
            item.Solo = Solo;
            
            item.SoTien = SoTien;
            
            item.MienGiam = MienGiam;
            
            item.GiamBhyt = GiamBhyt;
            
            item.GhiChu = GhiChu;
            
            item.TthaiTtoan = TthaiTtoan;
            
            item.TthaiKichhoat = TthaiKichhoat;
            
            item.NgayKichhoat = NgayKichhoat;
            
            item.TthaiHuy = TthaiHuy;
            
            item.NgayHuy = NgayHuy;
            
            item.NguoiHuy = NguoiHuy;
            
            item.LydoHuy = LydoHuy;
            
            item.TthaiKetthuc = TthaiKetthuc;
            
            item.NgayKetthuc = NgayKetthuc;
            
            item.NguoiKetthuc = NguoiKetthuc;
            
            item.LydoKetthuc = LydoKetthuc;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.IdNvienTao = IdNvienTao;
            
            item.IdKhoaThuchien = IdKhoaThuchien;
            
            item.IdPhongChidinh = IdPhongChidinh;
            
            item.IdKhoaChidinh = IdKhoaChidinh;
            
            item.IdKhoadieutri = IdKhoadieutri;
            
            item.IdPhieudieutri = IdPhieudieutri;
            
            item.IdKham = IdKham;
            
            item.IdThe = IdThe;
            
            item.Noitru = Noitru;
            
            item.TileChietkhau = TileChietkhau;
            
            item.TienChietkhau = TienChietkhau;
            
            item.KieuChietkhau = KieuChietkhau;
            
            item.ThanhTien = ThanhTien;
            
            item.IdThanhtoan = IdThanhtoan;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.NguonThanhtoan = NguonThanhtoan;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.SoLuong = SoLuong;
            
            item.PhuThu = PhuThu;
            
            item.BhytChitra = BhytChitra;
            
            item.BnhanChitra = BnhanChitra;
            
            item.TyleTt = TyleTt;
            
            item.BhytNguonKhac = BhytNguonKhac;
            
            item.BhytGiaTyle = BhytGiaTyle;
            
            item.BnTtt = BnTtt;
            
            item.BnCct = BnCct;
            
            item.TyleTtNguonkhac = TyleTtNguonkhac;
            
            item.TyleHotro = TyleHotro;
            
            item.TuTuc = TuTuc;
            
            item.PtramBhyt = PtramBhyt;
            
            item.PtramBhytGoc = PtramBhytGoc;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int IdDangky,int IdGoi,int IdBenhnhan,string MaLuotkham,DateTime? HieulucTungay,DateTime? HieulucDenngay,DateTime? NgayDangky,string Solo,decimal? SoTien,decimal? MienGiam,decimal? GiamBhyt,string GhiChu,bool TthaiTtoan,bool TthaiKichhoat,DateTime? NgayKichhoat,bool? TthaiHuy,DateTime? NgayHuy,string NguoiHuy,string LydoHuy,bool? TthaiKetthuc,DateTime? NgayKetthuc,string NguoiKetthuc,string LydoKetthuc,DateTime NgayTao,string NguoiTao,int? IdNvienTao,int? IdKhoaThuchien,int? IdPhongChidinh,int? IdKhoaChidinh,int? IdKhoadieutri,long? IdPhieudieutri,long? IdKham,long? IdThe,byte? Noitru,decimal? TileChietkhau,decimal? TienChietkhau,string KieuChietkhau,decimal? ThanhTien,long? IdThanhtoan,DateTime? NgayThanhtoan,byte? NguonThanhtoan,string NguoiSua,DateTime? NgaySua,string SoLuong,string PhuThu,string BhytChitra,string BnhanChitra,decimal? TyleTt,byte? BhytNguonKhac,decimal? BhytGiaTyle,decimal? BnTtt,decimal? BnCct,decimal? TyleTtNguonkhac,decimal? TyleHotro,byte? TuTuc,decimal? PtramBhyt,decimal? PtramBhytGoc,short? IdDoituongKcb)
	    {
		    GoiDangki item = new GoiDangki();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdDangky = IdDangky;
				
			item.IdGoi = IdGoi;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.HieulucTungay = HieulucTungay;
				
			item.HieulucDenngay = HieulucDenngay;
				
			item.NgayDangky = NgayDangky;
				
			item.Solo = Solo;
				
			item.SoTien = SoTien;
				
			item.MienGiam = MienGiam;
				
			item.GiamBhyt = GiamBhyt;
				
			item.GhiChu = GhiChu;
				
			item.TthaiTtoan = TthaiTtoan;
				
			item.TthaiKichhoat = TthaiKichhoat;
				
			item.NgayKichhoat = NgayKichhoat;
				
			item.TthaiHuy = TthaiHuy;
				
			item.NgayHuy = NgayHuy;
				
			item.NguoiHuy = NguoiHuy;
				
			item.LydoHuy = LydoHuy;
				
			item.TthaiKetthuc = TthaiKetthuc;
				
			item.NgayKetthuc = NgayKetthuc;
				
			item.NguoiKetthuc = NguoiKetthuc;
				
			item.LydoKetthuc = LydoKetthuc;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.IdNvienTao = IdNvienTao;
				
			item.IdKhoaThuchien = IdKhoaThuchien;
				
			item.IdPhongChidinh = IdPhongChidinh;
				
			item.IdKhoaChidinh = IdKhoaChidinh;
				
			item.IdKhoadieutri = IdKhoadieutri;
				
			item.IdPhieudieutri = IdPhieudieutri;
				
			item.IdKham = IdKham;
				
			item.IdThe = IdThe;
				
			item.Noitru = Noitru;
				
			item.TileChietkhau = TileChietkhau;
				
			item.TienChietkhau = TienChietkhau;
				
			item.KieuChietkhau = KieuChietkhau;
				
			item.ThanhTien = ThanhTien;
				
			item.IdThanhtoan = IdThanhtoan;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.NguonThanhtoan = NguonThanhtoan;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.SoLuong = SoLuong;
				
			item.PhuThu = PhuThu;
				
			item.BhytChitra = BhytChitra;
				
			item.BnhanChitra = BnhanChitra;
				
			item.TyleTt = TyleTt;
				
			item.BhytNguonKhac = BhytNguonKhac;
				
			item.BhytGiaTyle = BhytGiaTyle;
				
			item.BnTtt = BnTtt;
				
			item.BnCct = BnCct;
				
			item.TyleTtNguonkhac = TyleTtNguonkhac;
				
			item.TyleHotro = TyleHotro;
				
			item.TuTuc = TuTuc;
				
			item.PtramBhyt = PtramBhyt;
				
			item.PtramBhytGoc = PtramBhytGoc;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
	        item.Save(UserName);
	    }
    }
}
