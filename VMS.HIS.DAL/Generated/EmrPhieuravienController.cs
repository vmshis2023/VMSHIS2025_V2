using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for emr_phieuravien
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class EmrPhieuravienController
    {
        // Preload our schema..
        EmrPhieuravien thisSchemaLoad = new EmrPhieuravien();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public EmrPhieuravienCollection FetchAll()
        {
            EmrPhieuravienCollection coll = new EmrPhieuravienCollection();
            Query qry = new Query(EmrPhieuravien.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public EmrPhieuravienCollection FetchByID(object IdRavien)
        {
            EmrPhieuravienCollection coll = new EmrPhieuravienCollection().Where("id_ravien", IdRavien).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public EmrPhieuravienCollection FetchByQuery(Query qry)
        {
            EmrPhieuravienCollection coll = new EmrPhieuravienCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdRavien)
        {
            return (EmrPhieuravien.Delete(IdRavien) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdRavien)
        {
            return (EmrPhieuravien.Destroy(IdRavien) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdRavienHis,long? IdBenhnhan,string MaLuotkham,DateTime? QlnbNgayRavien,string QlnbMaTinhtrangRavien,bool? QlnbTinhtrangRavienRavien,bool? QlnbTinhtrangRavienXinve,bool? QlnbTinhtrangRavienBove,bool? QlnbTinhtrangRavienDuave,short? QlnbTongsongayDieutri,string CdRavienMaBenhchinh,string CdRavienTenBenhchinh,string CdRavienMaBenhphu,string CdRavienTenBenhphu,bool? CdTaibien,bool? CdBienchung,string TtrvMaKetquadieutri,bool? TtrvKetquadieutriKhoi,bool? TtrvKetquadieutriDogiam,bool? TtrvKetquadieutriKhongthaydoi,bool? TtrvKetquadieutriNanghon,bool? TtrvKetquadieutriTuvong,bool? TtrvKetquadieutriChuyenvien,bool? TtrvGpbLanhtinh,bool? TtrvGpbNghingo,bool? TtrvGpbActinh,bool? TtrvGpb,DateTime? TtrvThoigianTuvong,string TtrvMaLydotuvong,bool? TtrvLydotuvongDobenh,bool? TtrvLydotuvongDotaibiendieutri,bool? TtrvLydotuvongKhac,string TtrvMaThoigiantuvong,bool? TtrvThoigiantuvongTrong24h,bool? TtrvThoigiantuvongSau24h,bool? TtrvThoigiantuvongTrong48h,bool? TtrvThoigiantuvongTrong72h,string TtrvMaNguyennhantuvong,string TtrvNguyennhantuvong,bool? TtrvKhamnghiemtuthi,string TtrvMaChandoangiaiphaututhi,string TtrvChandoangiauphaututhi,bool? TrangthaiXoa,bool? TrangthaiAnhien,string ChandoanRavien,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    EmrPhieuravien item = new EmrPhieuravien();
		    
            item.IdRavienHis = IdRavienHis;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.QlnbNgayRavien = QlnbNgayRavien;
            
            item.QlnbMaTinhtrangRavien = QlnbMaTinhtrangRavien;
            
            item.QlnbTinhtrangRavienRavien = QlnbTinhtrangRavienRavien;
            
            item.QlnbTinhtrangRavienXinve = QlnbTinhtrangRavienXinve;
            
            item.QlnbTinhtrangRavienBove = QlnbTinhtrangRavienBove;
            
            item.QlnbTinhtrangRavienDuave = QlnbTinhtrangRavienDuave;
            
            item.QlnbTongsongayDieutri = QlnbTongsongayDieutri;
            
            item.CdRavienMaBenhchinh = CdRavienMaBenhchinh;
            
            item.CdRavienTenBenhchinh = CdRavienTenBenhchinh;
            
            item.CdRavienMaBenhphu = CdRavienMaBenhphu;
            
            item.CdRavienTenBenhphu = CdRavienTenBenhphu;
            
            item.CdTaibien = CdTaibien;
            
            item.CdBienchung = CdBienchung;
            
            item.TtrvMaKetquadieutri = TtrvMaKetquadieutri;
            
            item.TtrvKetquadieutriKhoi = TtrvKetquadieutriKhoi;
            
            item.TtrvKetquadieutriDogiam = TtrvKetquadieutriDogiam;
            
            item.TtrvKetquadieutriKhongthaydoi = TtrvKetquadieutriKhongthaydoi;
            
            item.TtrvKetquadieutriNanghon = TtrvKetquadieutriNanghon;
            
            item.TtrvKetquadieutriTuvong = TtrvKetquadieutriTuvong;
            
            item.TtrvKetquadieutriChuyenvien = TtrvKetquadieutriChuyenvien;
            
            item.TtrvGpbLanhtinh = TtrvGpbLanhtinh;
            
            item.TtrvGpbNghingo = TtrvGpbNghingo;
            
            item.TtrvGpbActinh = TtrvGpbActinh;
            
            item.TtrvGpb = TtrvGpb;
            
            item.TtrvThoigianTuvong = TtrvThoigianTuvong;
            
            item.TtrvMaLydotuvong = TtrvMaLydotuvong;
            
            item.TtrvLydotuvongDobenh = TtrvLydotuvongDobenh;
            
            item.TtrvLydotuvongDotaibiendieutri = TtrvLydotuvongDotaibiendieutri;
            
            item.TtrvLydotuvongKhac = TtrvLydotuvongKhac;
            
            item.TtrvMaThoigiantuvong = TtrvMaThoigiantuvong;
            
            item.TtrvThoigiantuvongTrong24h = TtrvThoigiantuvongTrong24h;
            
            item.TtrvThoigiantuvongSau24h = TtrvThoigiantuvongSau24h;
            
            item.TtrvThoigiantuvongTrong48h = TtrvThoigiantuvongTrong48h;
            
            item.TtrvThoigiantuvongTrong72h = TtrvThoigiantuvongTrong72h;
            
            item.TtrvMaNguyennhantuvong = TtrvMaNguyennhantuvong;
            
            item.TtrvNguyennhantuvong = TtrvNguyennhantuvong;
            
            item.TtrvKhamnghiemtuthi = TtrvKhamnghiemtuthi;
            
            item.TtrvMaChandoangiaiphaututhi = TtrvMaChandoangiaiphaututhi;
            
            item.TtrvChandoangiauphaututhi = TtrvChandoangiauphaututhi;
            
            item.TrangthaiXoa = TrangthaiXoa;
            
            item.TrangthaiAnhien = TrangthaiAnhien;
            
            item.ChandoanRavien = ChandoanRavien;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdRavien,long IdRavienHis,long? IdBenhnhan,string MaLuotkham,DateTime? QlnbNgayRavien,string QlnbMaTinhtrangRavien,bool? QlnbTinhtrangRavienRavien,bool? QlnbTinhtrangRavienXinve,bool? QlnbTinhtrangRavienBove,bool? QlnbTinhtrangRavienDuave,short? QlnbTongsongayDieutri,string CdRavienMaBenhchinh,string CdRavienTenBenhchinh,string CdRavienMaBenhphu,string CdRavienTenBenhphu,bool? CdTaibien,bool? CdBienchung,string TtrvMaKetquadieutri,bool? TtrvKetquadieutriKhoi,bool? TtrvKetquadieutriDogiam,bool? TtrvKetquadieutriKhongthaydoi,bool? TtrvKetquadieutriNanghon,bool? TtrvKetquadieutriTuvong,bool? TtrvKetquadieutriChuyenvien,bool? TtrvGpbLanhtinh,bool? TtrvGpbNghingo,bool? TtrvGpbActinh,bool? TtrvGpb,DateTime? TtrvThoigianTuvong,string TtrvMaLydotuvong,bool? TtrvLydotuvongDobenh,bool? TtrvLydotuvongDotaibiendieutri,bool? TtrvLydotuvongKhac,string TtrvMaThoigiantuvong,bool? TtrvThoigiantuvongTrong24h,bool? TtrvThoigiantuvongSau24h,bool? TtrvThoigiantuvongTrong48h,bool? TtrvThoigiantuvongTrong72h,string TtrvMaNguyennhantuvong,string TtrvNguyennhantuvong,bool? TtrvKhamnghiemtuthi,string TtrvMaChandoangiaiphaututhi,string TtrvChandoangiauphaututhi,bool? TrangthaiXoa,bool? TrangthaiAnhien,string ChandoanRavien,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    EmrPhieuravien item = new EmrPhieuravien();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdRavien = IdRavien;
				
			item.IdRavienHis = IdRavienHis;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.QlnbNgayRavien = QlnbNgayRavien;
				
			item.QlnbMaTinhtrangRavien = QlnbMaTinhtrangRavien;
				
			item.QlnbTinhtrangRavienRavien = QlnbTinhtrangRavienRavien;
				
			item.QlnbTinhtrangRavienXinve = QlnbTinhtrangRavienXinve;
				
			item.QlnbTinhtrangRavienBove = QlnbTinhtrangRavienBove;
				
			item.QlnbTinhtrangRavienDuave = QlnbTinhtrangRavienDuave;
				
			item.QlnbTongsongayDieutri = QlnbTongsongayDieutri;
				
			item.CdRavienMaBenhchinh = CdRavienMaBenhchinh;
				
			item.CdRavienTenBenhchinh = CdRavienTenBenhchinh;
				
			item.CdRavienMaBenhphu = CdRavienMaBenhphu;
				
			item.CdRavienTenBenhphu = CdRavienTenBenhphu;
				
			item.CdTaibien = CdTaibien;
				
			item.CdBienchung = CdBienchung;
				
			item.TtrvMaKetquadieutri = TtrvMaKetquadieutri;
				
			item.TtrvKetquadieutriKhoi = TtrvKetquadieutriKhoi;
				
			item.TtrvKetquadieutriDogiam = TtrvKetquadieutriDogiam;
				
			item.TtrvKetquadieutriKhongthaydoi = TtrvKetquadieutriKhongthaydoi;
				
			item.TtrvKetquadieutriNanghon = TtrvKetquadieutriNanghon;
				
			item.TtrvKetquadieutriTuvong = TtrvKetquadieutriTuvong;
				
			item.TtrvKetquadieutriChuyenvien = TtrvKetquadieutriChuyenvien;
				
			item.TtrvGpbLanhtinh = TtrvGpbLanhtinh;
				
			item.TtrvGpbNghingo = TtrvGpbNghingo;
				
			item.TtrvGpbActinh = TtrvGpbActinh;
				
			item.TtrvGpb = TtrvGpb;
				
			item.TtrvThoigianTuvong = TtrvThoigianTuvong;
				
			item.TtrvMaLydotuvong = TtrvMaLydotuvong;
				
			item.TtrvLydotuvongDobenh = TtrvLydotuvongDobenh;
				
			item.TtrvLydotuvongDotaibiendieutri = TtrvLydotuvongDotaibiendieutri;
				
			item.TtrvLydotuvongKhac = TtrvLydotuvongKhac;
				
			item.TtrvMaThoigiantuvong = TtrvMaThoigiantuvong;
				
			item.TtrvThoigiantuvongTrong24h = TtrvThoigiantuvongTrong24h;
				
			item.TtrvThoigiantuvongSau24h = TtrvThoigiantuvongSau24h;
				
			item.TtrvThoigiantuvongTrong48h = TtrvThoigiantuvongTrong48h;
				
			item.TtrvThoigiantuvongTrong72h = TtrvThoigiantuvongTrong72h;
				
			item.TtrvMaNguyennhantuvong = TtrvMaNguyennhantuvong;
				
			item.TtrvNguyennhantuvong = TtrvNguyennhantuvong;
				
			item.TtrvKhamnghiemtuthi = TtrvKhamnghiemtuthi;
				
			item.TtrvMaChandoangiaiphaututhi = TtrvMaChandoangiaiphaututhi;
				
			item.TtrvChandoangiauphaututhi = TtrvChandoangiauphaututhi;
				
			item.TrangthaiXoa = TrangthaiXoa;
				
			item.TrangthaiAnhien = TrangthaiAnhien;
				
			item.ChandoanRavien = ChandoanRavien;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
