using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for t_thau
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TThauController
    {
        // Preload our schema..
        TThau thisSchemaLoad = new TThau();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TThauCollection FetchAll()
        {
            TThauCollection coll = new TThauCollection();
            Query qry = new Query(TThau.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TThauCollection FetchByID(object IdThau)
        {
            TThauCollection coll = new TThauCollection().Where("id_thau", IdThau).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TThauCollection FetchByQuery(Query qry)
        {
            TThauCollection coll = new TThauCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdThau)
        {
            return (TThau.Delete(IdThau) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdThau)
        {
            return (TThau.Destroy(IdThau) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string LoaiThau,string NhomThau,string GoiThau,string SoThau,DateTime NgaythauTu,DateTime? NgaythauDen,string SoQuyetdinh,DateTime NgayqdTu,DateTime? NgayqdDen,string MaNhacungcap,string GhiChu,byte? TrangThai,byte? TthaiXacnhan,string NguoiXacnhan,DateTime? NgayXacnhan,bool? TthaiDieutiet,int? IdBenhvienDieutiet,string SoHdongDieutiet,DateTime? NgayhdDieutiet,DateTime? NgayktDieutiet,int? HthucThau,int? BophanDung,string KieuThuocvt,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua,byte? LaApthau)
	    {
		    TThau item = new TThau();
		    
            item.LoaiThau = LoaiThau;
            
            item.NhomThau = NhomThau;
            
            item.GoiThau = GoiThau;
            
            item.SoThau = SoThau;
            
            item.NgaythauTu = NgaythauTu;
            
            item.NgaythauDen = NgaythauDen;
            
            item.SoQuyetdinh = SoQuyetdinh;
            
            item.NgayqdTu = NgayqdTu;
            
            item.NgayqdDen = NgayqdDen;
            
            item.MaNhacungcap = MaNhacungcap;
            
            item.GhiChu = GhiChu;
            
            item.TrangThai = TrangThai;
            
            item.TthaiXacnhan = TthaiXacnhan;
            
            item.NguoiXacnhan = NguoiXacnhan;
            
            item.NgayXacnhan = NgayXacnhan;
            
            item.TthaiDieutiet = TthaiDieutiet;
            
            item.IdBenhvienDieutiet = IdBenhvienDieutiet;
            
            item.SoHdongDieutiet = SoHdongDieutiet;
            
            item.NgayhdDieutiet = NgayhdDieutiet;
            
            item.NgayktDieutiet = NgayktDieutiet;
            
            item.HthucThau = HthucThau;
            
            item.BophanDung = BophanDung;
            
            item.KieuThuocvt = KieuThuocvt;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.LaApthau = LaApthau;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdThau,string LoaiThau,string NhomThau,string GoiThau,string SoThau,DateTime NgaythauTu,DateTime? NgaythauDen,string SoQuyetdinh,DateTime NgayqdTu,DateTime? NgayqdDen,string MaNhacungcap,string GhiChu,byte? TrangThai,byte? TthaiXacnhan,string NguoiXacnhan,DateTime? NgayXacnhan,bool? TthaiDieutiet,int? IdBenhvienDieutiet,string SoHdongDieutiet,DateTime? NgayhdDieutiet,DateTime? NgayktDieutiet,int? HthucThau,int? BophanDung,string KieuThuocvt,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua,byte? LaApthau)
	    {
		    TThau item = new TThau();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdThau = IdThau;
				
			item.LoaiThau = LoaiThau;
				
			item.NhomThau = NhomThau;
				
			item.GoiThau = GoiThau;
				
			item.SoThau = SoThau;
				
			item.NgaythauTu = NgaythauTu;
				
			item.NgaythauDen = NgaythauDen;
				
			item.SoQuyetdinh = SoQuyetdinh;
				
			item.NgayqdTu = NgayqdTu;
				
			item.NgayqdDen = NgayqdDen;
				
			item.MaNhacungcap = MaNhacungcap;
				
			item.GhiChu = GhiChu;
				
			item.TrangThai = TrangThai;
				
			item.TthaiXacnhan = TthaiXacnhan;
				
			item.NguoiXacnhan = NguoiXacnhan;
				
			item.NgayXacnhan = NgayXacnhan;
				
			item.TthaiDieutiet = TthaiDieutiet;
				
			item.IdBenhvienDieutiet = IdBenhvienDieutiet;
				
			item.SoHdongDieutiet = SoHdongDieutiet;
				
			item.NgayhdDieutiet = NgayhdDieutiet;
				
			item.NgayktDieutiet = NgayktDieutiet;
				
			item.HthucThau = HthucThau;
				
			item.BophanDung = BophanDung;
				
			item.KieuThuocvt = KieuThuocvt;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.LaApthau = LaApthau;
				
	        item.Save(UserName);
	    }
    }
}
