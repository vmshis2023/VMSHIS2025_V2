using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for emr_phieuvaovien
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class EmrPhieuvaovienController
    {
        // Preload our schema..
        EmrPhieuvaovien thisSchemaLoad = new EmrPhieuvaovien();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public EmrPhieuvaovienCollection FetchAll()
        {
            EmrPhieuvaovienCollection coll = new EmrPhieuvaovienCollection();
            Query qry = new Query(EmrPhieuvaovien.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public EmrPhieuvaovienCollection FetchByID(object IdNhapvien)
        {
            EmrPhieuvaovienCollection coll = new EmrPhieuvaovienCollection().Where("id_nhapvien", IdNhapvien).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public EmrPhieuvaovienCollection FetchByQuery(Query qry)
        {
            EmrPhieuvaovienCollection coll = new EmrPhieuvaovienCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdNhapvien)
        {
            return (EmrPhieuvaovien.Delete(IdNhapvien) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdNhapvien)
        {
            return (EmrPhieuvaovien.Destroy(IdNhapvien) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long? IdNhapvienHis,long? IdBenhnhan,string MaLuotkham,DateTime? QlnbNgayVaovien,DateTime? QlnbNgayVaokhoa,string QlnbMaKhoavaovien,string QlnbTenKhoavaovien,string QlnbKieuVaovien,bool? QlnbVaovienCapcuu,bool? QlnbVaovienKkb,bool? QlnbVaovienKhoadieutri,byte? QlnbVaovienlanthu,string QlnbNoigioithieu,bool? QlnbNoigioithieuCoquanyte,bool? QlnbNoigioithieuTuden,bool? QlnbNoigioithieuKhac,string ChandoanVaovien,string MaLydovaovien,string Lydovaovien,short? Vaovienngaythu,string MaBenhchinh,string TenBenhchinh,string MaBenhphu,string TenBenhphu,string QuatrinhBenhly,string TiensuBanthan,string TiensuGiadinh,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    EmrPhieuvaovien item = new EmrPhieuvaovien();
		    
            item.IdNhapvienHis = IdNhapvienHis;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.QlnbNgayVaovien = QlnbNgayVaovien;
            
            item.QlnbNgayVaokhoa = QlnbNgayVaokhoa;
            
            item.QlnbMaKhoavaovien = QlnbMaKhoavaovien;
            
            item.QlnbTenKhoavaovien = QlnbTenKhoavaovien;
            
            item.QlnbKieuVaovien = QlnbKieuVaovien;
            
            item.QlnbVaovienCapcuu = QlnbVaovienCapcuu;
            
            item.QlnbVaovienKkb = QlnbVaovienKkb;
            
            item.QlnbVaovienKhoadieutri = QlnbVaovienKhoadieutri;
            
            item.QlnbVaovienlanthu = QlnbVaovienlanthu;
            
            item.QlnbNoigioithieu = QlnbNoigioithieu;
            
            item.QlnbNoigioithieuCoquanyte = QlnbNoigioithieuCoquanyte;
            
            item.QlnbNoigioithieuTuden = QlnbNoigioithieuTuden;
            
            item.QlnbNoigioithieuKhac = QlnbNoigioithieuKhac;
            
            item.ChandoanVaovien = ChandoanVaovien;
            
            item.MaLydovaovien = MaLydovaovien;
            
            item.Lydovaovien = Lydovaovien;
            
            item.Vaovienngaythu = Vaovienngaythu;
            
            item.MaBenhchinh = MaBenhchinh;
            
            item.TenBenhchinh = TenBenhchinh;
            
            item.MaBenhphu = MaBenhphu;
            
            item.TenBenhphu = TenBenhphu;
            
            item.QuatrinhBenhly = QuatrinhBenhly;
            
            item.TiensuBanthan = TiensuBanthan;
            
            item.TiensuGiadinh = TiensuGiadinh;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdNhapvien,long? IdNhapvienHis,long? IdBenhnhan,string MaLuotkham,DateTime? QlnbNgayVaovien,DateTime? QlnbNgayVaokhoa,string QlnbMaKhoavaovien,string QlnbTenKhoavaovien,string QlnbKieuVaovien,bool? QlnbVaovienCapcuu,bool? QlnbVaovienKkb,bool? QlnbVaovienKhoadieutri,byte? QlnbVaovienlanthu,string QlnbNoigioithieu,bool? QlnbNoigioithieuCoquanyte,bool? QlnbNoigioithieuTuden,bool? QlnbNoigioithieuKhac,string ChandoanVaovien,string MaLydovaovien,string Lydovaovien,short? Vaovienngaythu,string MaBenhchinh,string TenBenhchinh,string MaBenhphu,string TenBenhphu,string QuatrinhBenhly,string TiensuBanthan,string TiensuGiadinh,DateTime? NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    EmrPhieuvaovien item = new EmrPhieuvaovien();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdNhapvien = IdNhapvien;
				
			item.IdNhapvienHis = IdNhapvienHis;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.QlnbNgayVaovien = QlnbNgayVaovien;
				
			item.QlnbNgayVaokhoa = QlnbNgayVaokhoa;
				
			item.QlnbMaKhoavaovien = QlnbMaKhoavaovien;
				
			item.QlnbTenKhoavaovien = QlnbTenKhoavaovien;
				
			item.QlnbKieuVaovien = QlnbKieuVaovien;
				
			item.QlnbVaovienCapcuu = QlnbVaovienCapcuu;
				
			item.QlnbVaovienKkb = QlnbVaovienKkb;
				
			item.QlnbVaovienKhoadieutri = QlnbVaovienKhoadieutri;
				
			item.QlnbVaovienlanthu = QlnbVaovienlanthu;
				
			item.QlnbNoigioithieu = QlnbNoigioithieu;
				
			item.QlnbNoigioithieuCoquanyte = QlnbNoigioithieuCoquanyte;
				
			item.QlnbNoigioithieuTuden = QlnbNoigioithieuTuden;
				
			item.QlnbNoigioithieuKhac = QlnbNoigioithieuKhac;
				
			item.ChandoanVaovien = ChandoanVaovien;
				
			item.MaLydovaovien = MaLydovaovien;
				
			item.Lydovaovien = Lydovaovien;
				
			item.Vaovienngaythu = Vaovienngaythu;
				
			item.MaBenhchinh = MaBenhchinh;
				
			item.TenBenhchinh = TenBenhchinh;
				
			item.MaBenhphu = MaBenhphu;
				
			item.TenBenhphu = TenBenhphu;
				
			item.QuatrinhBenhly = QuatrinhBenhly;
				
			item.TiensuBanthan = TiensuBanthan;
				
			item.TiensuGiadinh = TiensuGiadinh;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
