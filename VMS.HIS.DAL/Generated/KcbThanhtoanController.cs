using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_thanhtoan
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbThanhtoanController
    {
        // Preload our schema..
        KcbThanhtoan thisSchemaLoad = new KcbThanhtoan();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbThanhtoanCollection FetchAll()
        {
            KcbThanhtoanCollection coll = new KcbThanhtoanCollection();
            Query qry = new Query(KcbThanhtoan.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbThanhtoanCollection FetchByID(object IdThanhtoan)
        {
            KcbThanhtoanCollection coll = new KcbThanhtoanCollection().Where("id_thanhtoan", IdThanhtoan).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbThanhtoanCollection FetchByQuery(Query qry)
        {
            KcbThanhtoanCollection coll = new KcbThanhtoanCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdThanhtoan)
        {
            return (KcbThanhtoan.Delete(IdThanhtoan) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdThanhtoan)
        {
            return (KcbThanhtoan.Destroy(IdThanhtoan) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaLuotkham,long IdBenhnhan,string MaDoituongKcb,short? IdDoituongKcb,short? IdLoaidoituongKcb,DateTime NgayThanhtoan,int IdNhanvienThanhtoan,string MaThanhtoan,byte KieuThanhtoan,int? TrangthaiIn,DateTime? NgayIn,string NguoiIn,DateTime? NgayTonghop,string NguoiTonghop,string MaKhoaThuchien,DateTime? NgayChot,byte? TrangthaiChot,decimal TongTien,decimal BhytChitra,decimal BnhanChitra,short? PtramBhyt,decimal TileChietkhau,string KieuChietkhau,decimal TongtienChietkhau,decimal? TongtienChietkhauHoadon,decimal? TongtienChietkhauChitiet,string MaLydoChietkhau,string LydoChietkhau,string NguoiTao,DateTime NgayTao,DateTime? NguoiSua,string NgaySua,int? IdCapphat,string MauHoadon,string KiHieu,string MaQuyen,string Serie,byte? TrangthaiSeri,long? IdHdonLog,byte NoiTru,string MaPttt,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,DateTime? NgayRavien,decimal? PhuThu,decimal? TuTuc,string MaLydoHuy,bool? TtoanThuoc,decimal? CkhauNguon,decimal? CkhauCong,string MaNganhang,int? IdGoi,int? IdDangky,DateTime? MaxNgayTao,string Ghichu,string MaCoso,byte? TtoanAo,byte? TrangThai,long? IdKetchuyen,int? IdCtrinhKhuyenmai,string MaVoucher,decimal? TienChietkhauVoucher,short? MucHuongBhyt,bool? TthaiXuatHddt,string TransactionId,string RefId)
	    {
		    KcbThanhtoan item = new KcbThanhtoan();
		    
            item.MaLuotkham = MaLuotkham;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
            item.IdLoaidoituongKcb = IdLoaidoituongKcb;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.IdNhanvienThanhtoan = IdNhanvienThanhtoan;
            
            item.MaThanhtoan = MaThanhtoan;
            
            item.KieuThanhtoan = KieuThanhtoan;
            
            item.TrangthaiIn = TrangthaiIn;
            
            item.NgayIn = NgayIn;
            
            item.NguoiIn = NguoiIn;
            
            item.NgayTonghop = NgayTonghop;
            
            item.NguoiTonghop = NguoiTonghop;
            
            item.MaKhoaThuchien = MaKhoaThuchien;
            
            item.NgayChot = NgayChot;
            
            item.TrangthaiChot = TrangthaiChot;
            
            item.TongTien = TongTien;
            
            item.BhytChitra = BhytChitra;
            
            item.BnhanChitra = BnhanChitra;
            
            item.PtramBhyt = PtramBhyt;
            
            item.TileChietkhau = TileChietkhau;
            
            item.KieuChietkhau = KieuChietkhau;
            
            item.TongtienChietkhau = TongtienChietkhau;
            
            item.TongtienChietkhauHoadon = TongtienChietkhauHoadon;
            
            item.TongtienChietkhauChitiet = TongtienChietkhauChitiet;
            
            item.MaLydoChietkhau = MaLydoChietkhau;
            
            item.LydoChietkhau = LydoChietkhau;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.IdCapphat = IdCapphat;
            
            item.MauHoadon = MauHoadon;
            
            item.KiHieu = KiHieu;
            
            item.MaQuyen = MaQuyen;
            
            item.Serie = Serie;
            
            item.TrangthaiSeri = TrangthaiSeri;
            
            item.IdHdonLog = IdHdonLog;
            
            item.NoiTru = NoiTru;
            
            item.MaPttt = MaPttt;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
            item.NgayRavien = NgayRavien;
            
            item.PhuThu = PhuThu;
            
            item.TuTuc = TuTuc;
            
            item.MaLydoHuy = MaLydoHuy;
            
            item.TtoanThuoc = TtoanThuoc;
            
            item.CkhauNguon = CkhauNguon;
            
            item.CkhauCong = CkhauCong;
            
            item.MaNganhang = MaNganhang;
            
            item.IdGoi = IdGoi;
            
            item.IdDangky = IdDangky;
            
            item.MaxNgayTao = MaxNgayTao;
            
            item.Ghichu = Ghichu;
            
            item.MaCoso = MaCoso;
            
            item.TtoanAo = TtoanAo;
            
            item.TrangThai = TrangThai;
            
            item.IdKetchuyen = IdKetchuyen;
            
            item.IdCtrinhKhuyenmai = IdCtrinhKhuyenmai;
            
            item.MaVoucher = MaVoucher;
            
            item.TienChietkhauVoucher = TienChietkhauVoucher;
            
            item.MucHuongBhyt = MucHuongBhyt;
            
            item.TthaiXuatHddt = TthaiXuatHddt;
            
            item.TransactionId = TransactionId;
            
            item.RefId = RefId;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdThanhtoan,string MaLuotkham,long IdBenhnhan,string MaDoituongKcb,short? IdDoituongKcb,short? IdLoaidoituongKcb,DateTime NgayThanhtoan,int IdNhanvienThanhtoan,string MaThanhtoan,byte KieuThanhtoan,int? TrangthaiIn,DateTime? NgayIn,string NguoiIn,DateTime? NgayTonghop,string NguoiTonghop,string MaKhoaThuchien,DateTime? NgayChot,byte? TrangthaiChot,decimal TongTien,decimal BhytChitra,decimal BnhanChitra,short? PtramBhyt,decimal TileChietkhau,string KieuChietkhau,decimal TongtienChietkhau,decimal? TongtienChietkhauHoadon,decimal? TongtienChietkhauChitiet,string MaLydoChietkhau,string LydoChietkhau,string NguoiTao,DateTime NgayTao,DateTime? NguoiSua,string NgaySua,int? IdCapphat,string MauHoadon,string KiHieu,string MaQuyen,string Serie,byte? TrangthaiSeri,long? IdHdonLog,byte NoiTru,string MaPttt,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,DateTime? NgayRavien,decimal? PhuThu,decimal? TuTuc,string MaLydoHuy,bool? TtoanThuoc,decimal? CkhauNguon,decimal? CkhauCong,string MaNganhang,int? IdGoi,int? IdDangky,DateTime? MaxNgayTao,string Ghichu,string MaCoso,byte? TtoanAo,byte? TrangThai,long? IdKetchuyen,int? IdCtrinhKhuyenmai,string MaVoucher,decimal? TienChietkhauVoucher,short? MucHuongBhyt,bool? TthaiXuatHddt,string TransactionId,string RefId)
	    {
		    KcbThanhtoan item = new KcbThanhtoan();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdThanhtoan = IdThanhtoan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
			item.IdLoaidoituongKcb = IdLoaidoituongKcb;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.IdNhanvienThanhtoan = IdNhanvienThanhtoan;
				
			item.MaThanhtoan = MaThanhtoan;
				
			item.KieuThanhtoan = KieuThanhtoan;
				
			item.TrangthaiIn = TrangthaiIn;
				
			item.NgayIn = NgayIn;
				
			item.NguoiIn = NguoiIn;
				
			item.NgayTonghop = NgayTonghop;
				
			item.NguoiTonghop = NguoiTonghop;
				
			item.MaKhoaThuchien = MaKhoaThuchien;
				
			item.NgayChot = NgayChot;
				
			item.TrangthaiChot = TrangthaiChot;
				
			item.TongTien = TongTien;
				
			item.BhytChitra = BhytChitra;
				
			item.BnhanChitra = BnhanChitra;
				
			item.PtramBhyt = PtramBhyt;
				
			item.TileChietkhau = TileChietkhau;
				
			item.KieuChietkhau = KieuChietkhau;
				
			item.TongtienChietkhau = TongtienChietkhau;
				
			item.TongtienChietkhauHoadon = TongtienChietkhauHoadon;
				
			item.TongtienChietkhauChitiet = TongtienChietkhauChitiet;
				
			item.MaLydoChietkhau = MaLydoChietkhau;
				
			item.LydoChietkhau = LydoChietkhau;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.IdCapphat = IdCapphat;
				
			item.MauHoadon = MauHoadon;
				
			item.KiHieu = KiHieu;
				
			item.MaQuyen = MaQuyen;
				
			item.Serie = Serie;
				
			item.TrangthaiSeri = TrangthaiSeri;
				
			item.IdHdonLog = IdHdonLog;
				
			item.NoiTru = NoiTru;
				
			item.MaPttt = MaPttt;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
			item.NgayRavien = NgayRavien;
				
			item.PhuThu = PhuThu;
				
			item.TuTuc = TuTuc;
				
			item.MaLydoHuy = MaLydoHuy;
				
			item.TtoanThuoc = TtoanThuoc;
				
			item.CkhauNguon = CkhauNguon;
				
			item.CkhauCong = CkhauCong;
				
			item.MaNganhang = MaNganhang;
				
			item.IdGoi = IdGoi;
				
			item.IdDangky = IdDangky;
				
			item.MaxNgayTao = MaxNgayTao;
				
			item.Ghichu = Ghichu;
				
			item.MaCoso = MaCoso;
				
			item.TtoanAo = TtoanAo;
				
			item.TrangThai = TrangThai;
				
			item.IdKetchuyen = IdKetchuyen;
				
			item.IdCtrinhKhuyenmai = IdCtrinhKhuyenmai;
				
			item.MaVoucher = MaVoucher;
				
			item.TienChietkhauVoucher = TienChietkhauVoucher;
				
			item.MucHuongBhyt = MucHuongBhyt;
				
			item.TthaiXuatHddt = TthaiXuatHddt;
				
			item.TransactionId = TransactionId;
				
			item.RefId = RefId;
				
	        item.Save(UserName);
	    }
    }
}
