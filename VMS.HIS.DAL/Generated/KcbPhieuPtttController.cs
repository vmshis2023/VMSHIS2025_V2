using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_phieupttt
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbPhieuptttController
    {
        // Preload our schema..
        KcbPhieupttt thisSchemaLoad = new KcbPhieupttt();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbPhieuptttCollection FetchAll()
        {
            KcbPhieuptttCollection coll = new KcbPhieuptttCollection();
            Query qry = new Query(KcbPhieupttt.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbPhieuptttCollection FetchByID(object IdPhieu)
        {
            KcbPhieuptttCollection coll = new KcbPhieuptttCollection().Where("id_phieu", IdPhieu).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbPhieuptttCollection FetchByQuery(Query qry)
        {
            KcbPhieuptttCollection coll = new KcbPhieuptttCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdPhieu)
        {
            return (KcbPhieupttt.Delete(IdPhieu) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdPhieu)
        {
            return (KcbPhieupttt.Destroy(IdPhieu) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaPhieu,byte? LoaiPhieu,long IdBenhnhan,string MaLuotkham,short IdKhoadieutri,short? IdBuong,short? IdGiuong,DateTime NgayPttt,string ChanDoan,string TruocPttt,string SauPttt,string PhuongphapPttt,string LoaiPttt,string PhuongphapVocam,string IdbacsiPttt,string IdbacsiGayme,string IdbacsiPtttPhu,string IdDieuduonggayme,string MaDungcuvongngoai,string MaDungcuvongtrong,string TenDungcuvongngoai,string TenDungcuvongtrong,string LuocdoPttt,string DanLuu,string Bac,DateTime? NgayRut,DateTime? NgayCatchi,string Khac,string TrinhtuPttt,bool? Noitru,bool? KetthucPttt,DateTime? NgayTuvong,string LydoTaibien,string LydoTuvong,DateTime? NgayKetthuc,bool? TaiBien,bool? TuVong,long IdChitietchidinh,byte TrangThai,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua,DateTime? NgayXoa,string NguoiXoa,string Nhommau,string Rh,string MaHinhanh,string TenPhuongphapVocam,string GhiChu,string LydoBienchung,bool? BienChung)
	    {
		    KcbPhieupttt item = new KcbPhieupttt();
		    
            item.MaPhieu = MaPhieu;
            
            item.LoaiPhieu = LoaiPhieu;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.IdKhoadieutri = IdKhoadieutri;
            
            item.IdBuong = IdBuong;
            
            item.IdGiuong = IdGiuong;
            
            item.NgayPttt = NgayPttt;
            
            item.ChanDoan = ChanDoan;
            
            item.TruocPttt = TruocPttt;
            
            item.SauPttt = SauPttt;
            
            item.PhuongphapPttt = PhuongphapPttt;
            
            item.LoaiPttt = LoaiPttt;
            
            item.PhuongphapVocam = PhuongphapVocam;
            
            item.IdbacsiPttt = IdbacsiPttt;
            
            item.IdbacsiGayme = IdbacsiGayme;
            
            item.IdbacsiPtttPhu = IdbacsiPtttPhu;
            
            item.IdDieuduonggayme = IdDieuduonggayme;
            
            item.MaDungcuvongngoai = MaDungcuvongngoai;
            
            item.MaDungcuvongtrong = MaDungcuvongtrong;
            
            item.TenDungcuvongngoai = TenDungcuvongngoai;
            
            item.TenDungcuvongtrong = TenDungcuvongtrong;
            
            item.LuocdoPttt = LuocdoPttt;
            
            item.DanLuu = DanLuu;
            
            item.Bac = Bac;
            
            item.NgayRut = NgayRut;
            
            item.NgayCatchi = NgayCatchi;
            
            item.Khac = Khac;
            
            item.TrinhtuPttt = TrinhtuPttt;
            
            item.Noitru = Noitru;
            
            item.KetthucPttt = KetthucPttt;
            
            item.NgayTuvong = NgayTuvong;
            
            item.LydoTaibien = LydoTaibien;
            
            item.LydoTuvong = LydoTuvong;
            
            item.NgayKetthuc = NgayKetthuc;
            
            item.TaiBien = TaiBien;
            
            item.TuVong = TuVong;
            
            item.IdChitietchidinh = IdChitietchidinh;
            
            item.TrangThai = TrangThai;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.NgayXoa = NgayXoa;
            
            item.NguoiXoa = NguoiXoa;
            
            item.Nhommau = Nhommau;
            
            item.Rh = Rh;
            
            item.MaHinhanh = MaHinhanh;
            
            item.TenPhuongphapVocam = TenPhuongphapVocam;
            
            item.GhiChu = GhiChu;
            
            item.LydoBienchung = LydoBienchung;
            
            item.BienChung = BienChung;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdPhieu,string MaPhieu,byte? LoaiPhieu,long IdBenhnhan,string MaLuotkham,short IdKhoadieutri,short? IdBuong,short? IdGiuong,DateTime NgayPttt,string ChanDoan,string TruocPttt,string SauPttt,string PhuongphapPttt,string LoaiPttt,string PhuongphapVocam,string IdbacsiPttt,string IdbacsiGayme,string IdbacsiPtttPhu,string IdDieuduonggayme,string MaDungcuvongngoai,string MaDungcuvongtrong,string TenDungcuvongngoai,string TenDungcuvongtrong,string LuocdoPttt,string DanLuu,string Bac,DateTime? NgayRut,DateTime? NgayCatchi,string Khac,string TrinhtuPttt,bool? Noitru,bool? KetthucPttt,DateTime? NgayTuvong,string LydoTaibien,string LydoTuvong,DateTime? NgayKetthuc,bool? TaiBien,bool? TuVong,long IdChitietchidinh,byte TrangThai,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua,DateTime? NgayXoa,string NguoiXoa,string Nhommau,string Rh,string MaHinhanh,string TenPhuongphapVocam,string GhiChu,string LydoBienchung,bool? BienChung)
	    {
		    KcbPhieupttt item = new KcbPhieupttt();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdPhieu = IdPhieu;
				
			item.MaPhieu = MaPhieu;
				
			item.LoaiPhieu = LoaiPhieu;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.IdKhoadieutri = IdKhoadieutri;
				
			item.IdBuong = IdBuong;
				
			item.IdGiuong = IdGiuong;
				
			item.NgayPttt = NgayPttt;
				
			item.ChanDoan = ChanDoan;
				
			item.TruocPttt = TruocPttt;
				
			item.SauPttt = SauPttt;
				
			item.PhuongphapPttt = PhuongphapPttt;
				
			item.LoaiPttt = LoaiPttt;
				
			item.PhuongphapVocam = PhuongphapVocam;
				
			item.IdbacsiPttt = IdbacsiPttt;
				
			item.IdbacsiGayme = IdbacsiGayme;
				
			item.IdbacsiPtttPhu = IdbacsiPtttPhu;
				
			item.IdDieuduonggayme = IdDieuduonggayme;
				
			item.MaDungcuvongngoai = MaDungcuvongngoai;
				
			item.MaDungcuvongtrong = MaDungcuvongtrong;
				
			item.TenDungcuvongngoai = TenDungcuvongngoai;
				
			item.TenDungcuvongtrong = TenDungcuvongtrong;
				
			item.LuocdoPttt = LuocdoPttt;
				
			item.DanLuu = DanLuu;
				
			item.Bac = Bac;
				
			item.NgayRut = NgayRut;
				
			item.NgayCatchi = NgayCatchi;
				
			item.Khac = Khac;
				
			item.TrinhtuPttt = TrinhtuPttt;
				
			item.Noitru = Noitru;
				
			item.KetthucPttt = KetthucPttt;
				
			item.NgayTuvong = NgayTuvong;
				
			item.LydoTaibien = LydoTaibien;
				
			item.LydoTuvong = LydoTuvong;
				
			item.NgayKetthuc = NgayKetthuc;
				
			item.TaiBien = TaiBien;
				
			item.TuVong = TuVong;
				
			item.IdChitietchidinh = IdChitietchidinh;
				
			item.TrangThai = TrangThai;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.NgayXoa = NgayXoa;
				
			item.NguoiXoa = NguoiXoa;
				
			item.Nhommau = Nhommau;
				
			item.Rh = Rh;
				
			item.MaHinhanh = MaHinhanh;
				
			item.TenPhuongphapVocam = TenPhuongphapVocam;
				
			item.GhiChu = GhiChu;
				
			item.LydoBienchung = LydoBienchung;
				
			item.BienChung = BienChung;
				
	        item.Save(UserName);
	    }
    }
}
