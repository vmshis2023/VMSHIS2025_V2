using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_donkinh
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbDonkinhController
    {
        // Preload our schema..
        KcbDonkinh thisSchemaLoad = new KcbDonkinh();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbDonkinhCollection FetchAll()
        {
            KcbDonkinhCollection coll = new KcbDonkinhCollection();
            Query qry = new Query(KcbDonkinh.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDonkinhCollection FetchByID(object IdDonkinh)
        {
            KcbDonkinhCollection coll = new KcbDonkinhCollection().Where("id_donkinh", IdDonkinh).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDonkinhCollection FetchByQuery(Query qry)
        {
            KcbDonkinhCollection coll = new KcbDonkinhCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdDonkinh)
        {
            return (KcbDonkinh.Delete(IdDonkinh) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdDonkinh)
        {
            return (KcbDonkinh.Destroy(IdDonkinh) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdBenhnhan,string MaLuotkham,long IdCongkham,int IdBacsiKedon,string KxhtCauPhai,string KxhtCauTrai,string KxhtTruPhai,string KxhtTruTrai,string KxhtTrucPhai,string KxhtTrucTrai,string KxhtThilucPhai,string KxhtThilucTrai,string KxhtAddPhai,string KxhtAddTrai,string DonkinhCauPhai,string DonkinhCauTrai,string DonkinhTruPhai,string DonkinhTruTrai,string DonkinhTrucPhai,string DonkinhTrucTrai,string DonkinhThilucPhai,string DonkinhThilucTrai,string DonkinhAddPhai,string DonkinhAddTrai,string KcdtXa,string KcdtGan,bool? Kinh2trong,bool? Kinhdatrong,bool? Kinhnhingan,bool? Kinhdoimau,bool? Kinhpoly,bool? Kinhaptrong,string GhiChu,byte? TrangThai,DateTime NgayKedon,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    KcbDonkinh item = new KcbDonkinh();
		    
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.IdCongkham = IdCongkham;
            
            item.IdBacsiKedon = IdBacsiKedon;
            
            item.KxhtCauPhai = KxhtCauPhai;
            
            item.KxhtCauTrai = KxhtCauTrai;
            
            item.KxhtTruPhai = KxhtTruPhai;
            
            item.KxhtTruTrai = KxhtTruTrai;
            
            item.KxhtTrucPhai = KxhtTrucPhai;
            
            item.KxhtTrucTrai = KxhtTrucTrai;
            
            item.KxhtThilucPhai = KxhtThilucPhai;
            
            item.KxhtThilucTrai = KxhtThilucTrai;
            
            item.KxhtAddPhai = KxhtAddPhai;
            
            item.KxhtAddTrai = KxhtAddTrai;
            
            item.DonkinhCauPhai = DonkinhCauPhai;
            
            item.DonkinhCauTrai = DonkinhCauTrai;
            
            item.DonkinhTruPhai = DonkinhTruPhai;
            
            item.DonkinhTruTrai = DonkinhTruTrai;
            
            item.DonkinhTrucPhai = DonkinhTrucPhai;
            
            item.DonkinhTrucTrai = DonkinhTrucTrai;
            
            item.DonkinhThilucPhai = DonkinhThilucPhai;
            
            item.DonkinhThilucTrai = DonkinhThilucTrai;
            
            item.DonkinhAddPhai = DonkinhAddPhai;
            
            item.DonkinhAddTrai = DonkinhAddTrai;
            
            item.KcdtXa = KcdtXa;
            
            item.KcdtGan = KcdtGan;
            
            item.Kinh2trong = Kinh2trong;
            
            item.Kinhdatrong = Kinhdatrong;
            
            item.Kinhnhingan = Kinhnhingan;
            
            item.Kinhdoimau = Kinhdoimau;
            
            item.Kinhpoly = Kinhpoly;
            
            item.Kinhaptrong = Kinhaptrong;
            
            item.GhiChu = GhiChu;
            
            item.TrangThai = TrangThai;
            
            item.NgayKedon = NgayKedon;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdDonkinh,long IdBenhnhan,string MaLuotkham,long IdCongkham,int IdBacsiKedon,string KxhtCauPhai,string KxhtCauTrai,string KxhtTruPhai,string KxhtTruTrai,string KxhtTrucPhai,string KxhtTrucTrai,string KxhtThilucPhai,string KxhtThilucTrai,string KxhtAddPhai,string KxhtAddTrai,string DonkinhCauPhai,string DonkinhCauTrai,string DonkinhTruPhai,string DonkinhTruTrai,string DonkinhTrucPhai,string DonkinhTrucTrai,string DonkinhThilucPhai,string DonkinhThilucTrai,string DonkinhAddPhai,string DonkinhAddTrai,string KcdtXa,string KcdtGan,bool? Kinh2trong,bool? Kinhdatrong,bool? Kinhnhingan,bool? Kinhdoimau,bool? Kinhpoly,bool? Kinhaptrong,string GhiChu,byte? TrangThai,DateTime NgayKedon,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    KcbDonkinh item = new KcbDonkinh();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdDonkinh = IdDonkinh;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.IdCongkham = IdCongkham;
				
			item.IdBacsiKedon = IdBacsiKedon;
				
			item.KxhtCauPhai = KxhtCauPhai;
				
			item.KxhtCauTrai = KxhtCauTrai;
				
			item.KxhtTruPhai = KxhtTruPhai;
				
			item.KxhtTruTrai = KxhtTruTrai;
				
			item.KxhtTrucPhai = KxhtTrucPhai;
				
			item.KxhtTrucTrai = KxhtTrucTrai;
				
			item.KxhtThilucPhai = KxhtThilucPhai;
				
			item.KxhtThilucTrai = KxhtThilucTrai;
				
			item.KxhtAddPhai = KxhtAddPhai;
				
			item.KxhtAddTrai = KxhtAddTrai;
				
			item.DonkinhCauPhai = DonkinhCauPhai;
				
			item.DonkinhCauTrai = DonkinhCauTrai;
				
			item.DonkinhTruPhai = DonkinhTruPhai;
				
			item.DonkinhTruTrai = DonkinhTruTrai;
				
			item.DonkinhTrucPhai = DonkinhTrucPhai;
				
			item.DonkinhTrucTrai = DonkinhTrucTrai;
				
			item.DonkinhThilucPhai = DonkinhThilucPhai;
				
			item.DonkinhThilucTrai = DonkinhThilucTrai;
				
			item.DonkinhAddPhai = DonkinhAddPhai;
				
			item.DonkinhAddTrai = DonkinhAddTrai;
				
			item.KcdtXa = KcdtXa;
				
			item.KcdtGan = KcdtGan;
				
			item.Kinh2trong = Kinh2trong;
				
			item.Kinhdatrong = Kinhdatrong;
				
			item.Kinhnhingan = Kinhnhingan;
				
			item.Kinhdoimau = Kinhdoimau;
				
			item.Kinhpoly = Kinhpoly;
				
			item.Kinhaptrong = Kinhaptrong;
				
			item.GhiChu = GhiChu;
				
			item.TrangThai = TrangThai;
				
			item.NgayKedon = NgayKedon;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
