using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_dangky_kcb
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbDangkyKcbController
    {
        // Preload our schema..
        KcbDangkyKcb thisSchemaLoad = new KcbDangkyKcb();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbDangkyKcbCollection FetchAll()
        {
            KcbDangkyKcbCollection coll = new KcbDangkyKcbCollection();
            Query qry = new Query(KcbDangkyKcb.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDangkyKcbCollection FetchByID(object IdKham)
        {
            KcbDangkyKcbCollection coll = new KcbDangkyKcbCollection().Where("id_kham", IdKham).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDangkyKcbCollection FetchByQuery(Query qry)
        {
            KcbDangkyKcbCollection coll = new KcbDangkyKcbCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdKham)
        {
            return (KcbDangkyKcb.Delete(IdKham) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdKham)
        {
            return (KcbDangkyKcb.Destroy(IdKham) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdBenhnhan,string MaLuotkham,string MadoituongGia,decimal DonGia,decimal? PtramBhytGoc,decimal? PtramBhyt,decimal? BhytChitra,decimal? BnhanChitra,DateTime? NgayDangky,DateTime? NgayTiepdon,decimal? PhuThu,short? IdPhongkham,short? IdBacsikham,byte TrangthaiThanhtoan,long? IdThanhtoan,DateTime? NgayThanhtoan,string NguoiThanhtoan,byte? TrangthaiIn,byte? TrangThai,byte? TrangthaiHuy,short? SttKham,short? IdDichvuKcb,string TenDichvuKcb,byte? Noitru,string MaKhoaThuchien,byte? TuTuc,byte? KhamNgoaigio,string MaPhongStt,long? IdCha,byte? LaPhidichvukemtheo,string MaDoituongkcb,short? IdDoituongkcb,byte? IdLoaidoituongkcb,short? IdKhoakcb,string NhomBaocao,string NguoiChuyen,DateTime? NgayChuyen,string LydoChuyen,byte? TrangthaiChuyen,int? IdKieukham,decimal? TileChietkhau,decimal? TienChietkhau,string KieuChietkhau,int? IdGoi,byte? TrongGoi,byte? NguonThanhtoan,string NguoiTao,DateTime? NgaySua,string NguoiSua,long? IdLichsuDoituongKcb,string MatheBhyt,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,byte? DachidinhCls,byte? DakeDonthuoc,decimal? TyleTt,short? IdKhoadieutri,long? IdPhieudieutri,long? IdBuongGiuong,string MabenhChinh,string MabenhPhu,byte? TinhChiphi,byte? LanKham,long? IdThe,string MaCoso,int? IdDangky,byte? TthaiTamthu,long? IdTamthu,DateTime? NgayTamthu,byte? SttTt37,byte? BhytNguonKhac,decimal? BhytGiaTyle,decimal? BnTtt,decimal? BnCct,DateTime? ThoigianKetthuc,DateTime? ThoigianBatdau,byte? KhamThiluc,bool? CapKinh,byte? ThanhtoanCongkhamsau,decimal? GiaGoc)
	    {
		    KcbDangkyKcb item = new KcbDangkyKcb();
		    
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.MadoituongGia = MadoituongGia;
            
            item.DonGia = DonGia;
            
            item.PtramBhytGoc = PtramBhytGoc;
            
            item.PtramBhyt = PtramBhyt;
            
            item.BhytChitra = BhytChitra;
            
            item.BnhanChitra = BnhanChitra;
            
            item.NgayDangky = NgayDangky;
            
            item.NgayTiepdon = NgayTiepdon;
            
            item.PhuThu = PhuThu;
            
            item.IdPhongkham = IdPhongkham;
            
            item.IdBacsikham = IdBacsikham;
            
            item.TrangthaiThanhtoan = TrangthaiThanhtoan;
            
            item.IdThanhtoan = IdThanhtoan;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.NguoiThanhtoan = NguoiThanhtoan;
            
            item.TrangthaiIn = TrangthaiIn;
            
            item.TrangThai = TrangThai;
            
            item.TrangthaiHuy = TrangthaiHuy;
            
            item.SttKham = SttKham;
            
            item.IdDichvuKcb = IdDichvuKcb;
            
            item.TenDichvuKcb = TenDichvuKcb;
            
            item.Noitru = Noitru;
            
            item.MaKhoaThuchien = MaKhoaThuchien;
            
            item.TuTuc = TuTuc;
            
            item.KhamNgoaigio = KhamNgoaigio;
            
            item.MaPhongStt = MaPhongStt;
            
            item.IdCha = IdCha;
            
            item.LaPhidichvukemtheo = LaPhidichvukemtheo;
            
            item.MaDoituongkcb = MaDoituongkcb;
            
            item.IdDoituongkcb = IdDoituongkcb;
            
            item.IdLoaidoituongkcb = IdLoaidoituongkcb;
            
            item.IdKhoakcb = IdKhoakcb;
            
            item.NhomBaocao = NhomBaocao;
            
            item.NguoiChuyen = NguoiChuyen;
            
            item.NgayChuyen = NgayChuyen;
            
            item.LydoChuyen = LydoChuyen;
            
            item.TrangthaiChuyen = TrangthaiChuyen;
            
            item.IdKieukham = IdKieukham;
            
            item.TileChietkhau = TileChietkhau;
            
            item.TienChietkhau = TienChietkhau;
            
            item.KieuChietkhau = KieuChietkhau;
            
            item.IdGoi = IdGoi;
            
            item.TrongGoi = TrongGoi;
            
            item.NguonThanhtoan = NguonThanhtoan;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.IdLichsuDoituongKcb = IdLichsuDoituongKcb;
            
            item.MatheBhyt = MatheBhyt;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
            item.DachidinhCls = DachidinhCls;
            
            item.DakeDonthuoc = DakeDonthuoc;
            
            item.TyleTt = TyleTt;
            
            item.IdKhoadieutri = IdKhoadieutri;
            
            item.IdPhieudieutri = IdPhieudieutri;
            
            item.IdBuongGiuong = IdBuongGiuong;
            
            item.MabenhChinh = MabenhChinh;
            
            item.MabenhPhu = MabenhPhu;
            
            item.TinhChiphi = TinhChiphi;
            
            item.LanKham = LanKham;
            
            item.IdThe = IdThe;
            
            item.MaCoso = MaCoso;
            
            item.IdDangky = IdDangky;
            
            item.TthaiTamthu = TthaiTamthu;
            
            item.IdTamthu = IdTamthu;
            
            item.NgayTamthu = NgayTamthu;
            
            item.SttTt37 = SttTt37;
            
            item.BhytNguonKhac = BhytNguonKhac;
            
            item.BhytGiaTyle = BhytGiaTyle;
            
            item.BnTtt = BnTtt;
            
            item.BnCct = BnCct;
            
            item.ThoigianKetthuc = ThoigianKetthuc;
            
            item.ThoigianBatdau = ThoigianBatdau;
            
            item.KhamThiluc = KhamThiluc;
            
            item.CapKinh = CapKinh;
            
            item.ThanhtoanCongkhamsau = ThanhtoanCongkhamsau;
            
            item.GiaGoc = GiaGoc;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdKham,long IdBenhnhan,string MaLuotkham,string MadoituongGia,decimal DonGia,decimal? PtramBhytGoc,decimal? PtramBhyt,decimal? BhytChitra,decimal? BnhanChitra,DateTime? NgayDangky,DateTime? NgayTiepdon,decimal? PhuThu,short? IdPhongkham,short? IdBacsikham,byte TrangthaiThanhtoan,long? IdThanhtoan,DateTime? NgayThanhtoan,string NguoiThanhtoan,byte? TrangthaiIn,byte? TrangThai,byte? TrangthaiHuy,short? SttKham,short? IdDichvuKcb,string TenDichvuKcb,byte? Noitru,string MaKhoaThuchien,byte? TuTuc,byte? KhamNgoaigio,string MaPhongStt,long? IdCha,byte? LaPhidichvukemtheo,string MaDoituongkcb,short? IdDoituongkcb,byte? IdLoaidoituongkcb,short? IdKhoakcb,string NhomBaocao,string NguoiChuyen,DateTime? NgayChuyen,string LydoChuyen,byte? TrangthaiChuyen,int? IdKieukham,decimal? TileChietkhau,decimal? TienChietkhau,string KieuChietkhau,int? IdGoi,byte? TrongGoi,byte? NguonThanhtoan,string NguoiTao,DateTime? NgaySua,string NguoiSua,long? IdLichsuDoituongKcb,string MatheBhyt,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,byte? DachidinhCls,byte? DakeDonthuoc,decimal? TyleTt,short? IdKhoadieutri,long? IdPhieudieutri,long? IdBuongGiuong,string MabenhChinh,string MabenhPhu,byte? TinhChiphi,byte? LanKham,long? IdThe,string MaCoso,int? IdDangky,byte? TthaiTamthu,long? IdTamthu,DateTime? NgayTamthu,byte? SttTt37,byte? BhytNguonKhac,decimal? BhytGiaTyle,decimal? BnTtt,decimal? BnCct,DateTime? ThoigianKetthuc,DateTime? ThoigianBatdau,byte? KhamThiluc,bool? CapKinh,byte? ThanhtoanCongkhamsau,decimal? GiaGoc)
	    {
		    KcbDangkyKcb item = new KcbDangkyKcb();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdKham = IdKham;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.MadoituongGia = MadoituongGia;
				
			item.DonGia = DonGia;
				
			item.PtramBhytGoc = PtramBhytGoc;
				
			item.PtramBhyt = PtramBhyt;
				
			item.BhytChitra = BhytChitra;
				
			item.BnhanChitra = BnhanChitra;
				
			item.NgayDangky = NgayDangky;
				
			item.NgayTiepdon = NgayTiepdon;
				
			item.PhuThu = PhuThu;
				
			item.IdPhongkham = IdPhongkham;
				
			item.IdBacsikham = IdBacsikham;
				
			item.TrangthaiThanhtoan = TrangthaiThanhtoan;
				
			item.IdThanhtoan = IdThanhtoan;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.NguoiThanhtoan = NguoiThanhtoan;
				
			item.TrangthaiIn = TrangthaiIn;
				
			item.TrangThai = TrangThai;
				
			item.TrangthaiHuy = TrangthaiHuy;
				
			item.SttKham = SttKham;
				
			item.IdDichvuKcb = IdDichvuKcb;
				
			item.TenDichvuKcb = TenDichvuKcb;
				
			item.Noitru = Noitru;
				
			item.MaKhoaThuchien = MaKhoaThuchien;
				
			item.TuTuc = TuTuc;
				
			item.KhamNgoaigio = KhamNgoaigio;
				
			item.MaPhongStt = MaPhongStt;
				
			item.IdCha = IdCha;
				
			item.LaPhidichvukemtheo = LaPhidichvukemtheo;
				
			item.MaDoituongkcb = MaDoituongkcb;
				
			item.IdDoituongkcb = IdDoituongkcb;
				
			item.IdLoaidoituongkcb = IdLoaidoituongkcb;
				
			item.IdKhoakcb = IdKhoakcb;
				
			item.NhomBaocao = NhomBaocao;
				
			item.NguoiChuyen = NguoiChuyen;
				
			item.NgayChuyen = NgayChuyen;
				
			item.LydoChuyen = LydoChuyen;
				
			item.TrangthaiChuyen = TrangthaiChuyen;
				
			item.IdKieukham = IdKieukham;
				
			item.TileChietkhau = TileChietkhau;
				
			item.TienChietkhau = TienChietkhau;
				
			item.KieuChietkhau = KieuChietkhau;
				
			item.IdGoi = IdGoi;
				
			item.TrongGoi = TrongGoi;
				
			item.NguonThanhtoan = NguonThanhtoan;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.IdLichsuDoituongKcb = IdLichsuDoituongKcb;
				
			item.MatheBhyt = MatheBhyt;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
			item.DachidinhCls = DachidinhCls;
				
			item.DakeDonthuoc = DakeDonthuoc;
				
			item.TyleTt = TyleTt;
				
			item.IdKhoadieutri = IdKhoadieutri;
				
			item.IdPhieudieutri = IdPhieudieutri;
				
			item.IdBuongGiuong = IdBuongGiuong;
				
			item.MabenhChinh = MabenhChinh;
				
			item.MabenhPhu = MabenhPhu;
				
			item.TinhChiphi = TinhChiphi;
				
			item.LanKham = LanKham;
				
			item.IdThe = IdThe;
				
			item.MaCoso = MaCoso;
				
			item.IdDangky = IdDangky;
				
			item.TthaiTamthu = TthaiTamthu;
				
			item.IdTamthu = IdTamthu;
				
			item.NgayTamthu = NgayTamthu;
				
			item.SttTt37 = SttTt37;
				
			item.BhytNguonKhac = BhytNguonKhac;
				
			item.BhytGiaTyle = BhytGiaTyle;
				
			item.BnTtt = BnTtt;
				
			item.BnCct = BnCct;
				
			item.ThoigianKetthuc = ThoigianKetthuc;
				
			item.ThoigianBatdau = ThoigianBatdau;
				
			item.KhamThiluc = KhamThiluc;
				
			item.CapKinh = CapKinh;
				
			item.ThanhtoanCongkhamsau = ThanhtoanCongkhamsau;
				
			item.GiaGoc = GiaGoc;
				
	        item.Save(UserName);
	    }
    }
}
