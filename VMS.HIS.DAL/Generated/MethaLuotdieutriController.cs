using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VMS.HIS.DAL
{
    /// <summary>
    /// Controller class for metha_luotdieutri
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class MethaLuotdieutriController
    {
        // Preload our schema..
        MethaLuotdieutri thisSchemaLoad = new MethaLuotdieutri();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public MethaLuotdieutriCollection FetchAll()
        {
            MethaLuotdieutriCollection coll = new MethaLuotdieutriCollection();
            Query qry = new Query(MethaLuotdieutri.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public MethaLuotdieutriCollection FetchByID(object MaDieutri)
        {
            MethaLuotdieutriCollection coll = new MethaLuotdieutriCollection().Where("ma_dieutri", MaDieutri).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public MethaLuotdieutriCollection FetchByQuery(Query qry)
        {
            MethaLuotdieutriCollection coll = new MethaLuotdieutriCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object MaDieutri)
        {
            return (MethaLuotdieutri.Delete(MaDieutri) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object MaDieutri)
        {
            return (MethaLuotdieutri.Destroy(MaDieutri) == 1);
        }
        
        
        
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(string MaDieutri,long IdBenhnhan)
        {
            Query qry = new Query(MethaLuotdieutri.Schema);
            qry.QueryType = QueryType.Delete;
            qry.AddWhere("MaDieutri", MaDieutri).AND("IdBenhnhan", IdBenhnhan);
            qry.Execute();
            return (true);
        }        
       
    	
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaDieutri,long IdBenhnhan,DateTime NgayDieutri,int? Tuoi,byte? LoaiTuoi,byte? IdDoituong,string MaDoituong,byte? IdLoaidoituong,string MatheBhyt,decimal? PtramGoc,decimal? PtramHuong,long? IdThe,byte? DungTuyen,DateTime? NgayThanhtoan,decimal? LuongCoban,string TrieuChung,string ChanDoan,string HuongDtri,int? SongayDtri,byte? DaKedon,int? SongayKedon,DateTime? NgayBatdaudon,string SoBenhan,byte? SolanDtri,int? IdBacsyDtri,string NguoiTiepdon,int? CosoDtri,int? CosoChuyen,byte? TrangthaiDieutri,DateTime? NgayKetthuc,DateTime? NgayBatdau,string MotaThem,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,string IpMaytao,string IpMaysua,string IpMacTao,string IpMacSua,string LastAction)
	    {
		    MethaLuotdieutri item = new MethaLuotdieutri();
		    
            item.MaDieutri = MaDieutri;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.NgayDieutri = NgayDieutri;
            
            item.Tuoi = Tuoi;
            
            item.LoaiTuoi = LoaiTuoi;
            
            item.IdDoituong = IdDoituong;
            
            item.MaDoituong = MaDoituong;
            
            item.IdLoaidoituong = IdLoaidoituong;
            
            item.MatheBhyt = MatheBhyt;
            
            item.PtramGoc = PtramGoc;
            
            item.PtramHuong = PtramHuong;
            
            item.IdThe = IdThe;
            
            item.DungTuyen = DungTuyen;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.LuongCoban = LuongCoban;
            
            item.TrieuChung = TrieuChung;
            
            item.ChanDoan = ChanDoan;
            
            item.HuongDtri = HuongDtri;
            
            item.SongayDtri = SongayDtri;
            
            item.DaKedon = DaKedon;
            
            item.SongayKedon = SongayKedon;
            
            item.NgayBatdaudon = NgayBatdaudon;
            
            item.SoBenhan = SoBenhan;
            
            item.SolanDtri = SolanDtri;
            
            item.IdBacsyDtri = IdBacsyDtri;
            
            item.NguoiTiepdon = NguoiTiepdon;
            
            item.CosoDtri = CosoDtri;
            
            item.CosoChuyen = CosoChuyen;
            
            item.TrangthaiDieutri = TrangthaiDieutri;
            
            item.NgayKetthuc = NgayKetthuc;
            
            item.NgayBatdau = NgayBatdau;
            
            item.MotaThem = MotaThem;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.IpMacTao = IpMacTao;
            
            item.IpMacSua = IpMacSua;
            
            item.LastAction = LastAction;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(string MaDieutri,long IdBenhnhan,DateTime NgayDieutri,int? Tuoi,byte? LoaiTuoi,byte? IdDoituong,string MaDoituong,byte? IdLoaidoituong,string MatheBhyt,decimal? PtramGoc,decimal? PtramHuong,long? IdThe,byte? DungTuyen,DateTime? NgayThanhtoan,decimal? LuongCoban,string TrieuChung,string ChanDoan,string HuongDtri,int? SongayDtri,byte? DaKedon,int? SongayKedon,DateTime? NgayBatdaudon,string SoBenhan,byte? SolanDtri,int? IdBacsyDtri,string NguoiTiepdon,int? CosoDtri,int? CosoChuyen,byte? TrangthaiDieutri,DateTime? NgayKetthuc,DateTime? NgayBatdau,string MotaThem,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,string IpMaytao,string IpMaysua,string IpMacTao,string IpMacSua,string LastAction)
	    {
		    MethaLuotdieutri item = new MethaLuotdieutri();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.MaDieutri = MaDieutri;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.NgayDieutri = NgayDieutri;
				
			item.Tuoi = Tuoi;
				
			item.LoaiTuoi = LoaiTuoi;
				
			item.IdDoituong = IdDoituong;
				
			item.MaDoituong = MaDoituong;
				
			item.IdLoaidoituong = IdLoaidoituong;
				
			item.MatheBhyt = MatheBhyt;
				
			item.PtramGoc = PtramGoc;
				
			item.PtramHuong = PtramHuong;
				
			item.IdThe = IdThe;
				
			item.DungTuyen = DungTuyen;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.LuongCoban = LuongCoban;
				
			item.TrieuChung = TrieuChung;
				
			item.ChanDoan = ChanDoan;
				
			item.HuongDtri = HuongDtri;
				
			item.SongayDtri = SongayDtri;
				
			item.DaKedon = DaKedon;
				
			item.SongayKedon = SongayKedon;
				
			item.NgayBatdaudon = NgayBatdaudon;
				
			item.SoBenhan = SoBenhan;
				
			item.SolanDtri = SolanDtri;
				
			item.IdBacsyDtri = IdBacsyDtri;
				
			item.NguoiTiepdon = NguoiTiepdon;
				
			item.CosoDtri = CosoDtri;
				
			item.CosoChuyen = CosoChuyen;
				
			item.TrangthaiDieutri = TrangthaiDieutri;
				
			item.NgayKetthuc = NgayKetthuc;
				
			item.NgayBatdau = NgayBatdau;
				
			item.MotaThem = MotaThem;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.IpMacTao = IpMacTao;
				
			item.IpMacSua = IpMacSua;
				
			item.LastAction = LastAction;
				
	        item.Save(UserName);
	    }
    }
}
